//>>built
define("gridx/modules/AutoScroll",["dojo/_base/declare","dojo/_base/html","dojo/_base/lang","dojo/_base/window","../core/_Module"],function(_1,_2,_3,_4,_5){return _5.registerModule(_1("gridx.modules.AutoScroll",_5,{name:"autoScroll",constructor:function(){this.connect(_4.doc,"mousemove","_onMouseMove");},getAPIPath:function(){return {autoScroll:this};},enabled:false,vertical:true,horizontal:true,margin:20,_timeout:100,_step:10,_maxMargin:100,_onMouseMove:function(e){if(this.arg("enabled")){var d1,d2,g=this.grid,m=this.arg("margin"),_6=_2.position(g.bodyNode);if(this.arg("vertical")&&g.vScroller){d1=e.clientY-_6.y-m;d2=d1+2*m-_6.h;this._vdir=d1<0?d1:(d2>0?d2:0);}if(this.arg("horizontal")&&g.hScroller){d1=e.clientX-_6.x-m;d2=d1+2*m-_6.w;this._hdir=d1<0?d1:(d2>0?d2:0);}if(!this._handler){this._scroll();}}},_scroll:function(){if(this.arg("enabled")){var _7,a,_8,g=this.grid,m=this._maxMargin,s=this._step,v=this._vdir,h=this._hdir;if(this.arg("vertical")&&v){_7=v>0?1:-1;a=Math.min(m,Math.abs(v))/s;a=(a<1?1:a)*s*_7;g.vScroller.domNode.scrollTop+=a;_8=1;}if(this.arg("horizontal")&&h){_7=h>0?1:-1;a=Math.min(m,Math.abs(h))/s;a=(a<1?1:a)*s*_7;g.hScroller.domNode.scrollLeft+=a;_8=1;}if(_8){this._handler=setTimeout(_3.hitch(this,this._scroll),this._timeout);return;}}delete this._handler;}}));});