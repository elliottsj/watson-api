//>>built
require({cache:{"url:gridx/templates/GotoPagePane.html":"<div class='dojoxGridxGotoPage'\n\t><table><tbody\n\t\t><tr><td class='dojoxGridxGotoPageMainMsg'>\n\t\t${gotoDialogMainMsg}\n\t\t</td></tr\n\t\t><tr><td class='dojoxGridxGotoPageInput'\n\t\t\t><input dojoType='dijit.form.NumberTextBox'\n\t\t\t\tclass='dojoxGridxGotoPageInputBox'\n\t\t\t\tdojoAttachPoint='pageInputBox'\n\t\t\t\tdojoAttachEvent='onKeyUp: _updateStatus'></input\n\t\t\t><span\n\t\t\t\tclass='dojoxGridxPageCountMsg'\n\t\t\t\tdojoAttachPoint='pageCountMsgNode'></span\n\t\t></td></tr\n\t\t><tr><td class='dojoxGridxGotoPageBtns'\n\t\t\t><button dojoType='dijit.form.Button' \n\t\t\t\tdojoAttachPoint='okBtn'\n\t\t\t\tdojoAttachEvent='onClick: _onOK'>\n\t\t\t\t${gotoDialogOKBtn}\n\t\t\t</button\n\t\t\t><button dojoType='dijit.form.Button'\n\t\t\t\tdojoAttachEvent='onClick: _onCancel'>\n\t\t\t\t${gotoDialogCancelBtn}\n\t\t\t</button\n\t\t></td></tr\n\t></tbody></table\n></div>\n","url:gridx/templates/PaginationBar.html":"<div class='dojoxGridxPager'\n\t><table cellpadding=\"0\" cellspacing=\"0\"\n\t\t><tr\n\t\t\t><td class=\"dojoxGridxPagerDescription\"\n\t\t\t\tdojoAttachPoint=\"_descContainer\"\n\t\t\t></td\n\t\t\t><td class=\"dojoxGridxPagerSizeSwitch\"\n\t\t\t\t\tdojoAttachPoint='_sizeSwitchContainer'\n\t\t\t\t\tdojoAttachEvent='onclick: _switchPageSize'\n\t\t\t></td\n\t\t\t><td class=\"dojoxGridxPagerStepper\"\n\t\t\t\tdojoAttachPoint=\"_pageStepperContainer\"\n\t\t\t\t><span class='dojoxGridxPagerStepperBtn dojoxGridxPagerFirstPage'\n\t\t\t\t\ttabindex='${_tabIndex}'\n\t\t\t\t\ttitle='${firstPageTitle}'\n\t\t\t\t\taria-label='${firstPageWai}'\n\t\t\t\t\tpageindex='First',\n\t\t\t\t\tdojoAttachPoint='_firstPageBtn'\n\t\t\t\t\tdojoAttachEvent='onclick: _gotoFirstPage'\n\t\t\t\t\t><span class='dojoxGridxPagerA11yInner'>&nbsp;«</span\n\t\t\t\t></span\n\t\t\t\t><span class='dojoxGridxPagerStepperBtn dojoxGridxPagerPrevPage'\n\t\t\t\t\ttabindex='${_tabIndex}'\n\t\t\t\t\ttitle='${prevPageTitle}'\n\t\t\t\t\taria-label='${prevPageWai}'\n\t\t\t\t\tpageindex='Prev',\n\t\t\t\t\tdojoAttachPoint='_prevPageBtn'\n\t\t\t\t\tdojoAttachEvent='onclick: _gotoPrevPage'\n\t\t\t\t\t><span class='dojoxGridxPagerA11yInner'>&nbsp;&lt;</span\n\t\t\t\t></span\n\t\t\t\t><span class='dojoxGridxPagerPages'\n\t\t\t\t\tdojoAttachPoint='_pageBtnContainer'\n\t\t\t\t\tdojoAttachEvent='onclick: _gotoPage, onmouseover: _onHoverPageBtn, onmouseout: _onLeavePageBtn'\n\t\t\t\t></span\n\t\t\t\t><span class='dojoxGridxPagerStepperBtn dojoxGridxPagerNextPage'\n\t\t\t\t\ttabindex='${_tabIndex}'\n\t\t\t\t\ttitle='${nextPageTitle}'\n\t\t\t\t\taria-label='${nextPageWai}'\n\t\t\t\t\tpageindex='Next',\n\t\t\t\t\tdojoAttachPoint='_nextPageBtn'\n\t\t\t\t\tdojoAttachEvent='onclick: _gotoNextPage'\n\t\t\t\t\t><span class='dojoxGridxPagerA11yInner'>&nbsp;&gt;</span\n\t\t\t\t></span\n\t\t\t\t><span class='dojoxGridxPagerStepperBtn dojoxGridxPagerLastPage'\n\t\t\t\t\ttabindex='${_tabIndex}'\n\t\t\t\t\ttitle='${lastPageTitle}'\n\t\t\t\t\tpageindex='Last',\n\t\t\t\t\taria-label='${lastPageWai}'\n\t\t\t\t\tdojoAttachPoint='_lastPageBtn'\n\t\t\t\t\tdojoAttachEvent='onclick: _gotoLastPage'\n\t\t\t\t\t><span class='dojoxGridxPagerA11yInner'>&nbsp;»</span\n\t\t\t\t></span\n\t\t\t></td\n\t\t\t><td class='dojoxGridxPagerGoto'\n\t\t\t\t><span class='dojoxGridxPagerGotoBtn'\n\t\t\t\t\ttabindex='${_tabIndex}'\n\t\t\t\t\ttitle='${gotoBtnTitle}'\n\t\t\t\t\taria-label='${gotoBtnWai}'\n\t\t\t\t\tdojoAttachPoint='_gotoBtn'\n\t\t\t\t\tdojoAttachEvent='onclick: _showGotoDialog'\n\t\t\t\t\t><span class='dojoxGridxPagerA11yInner'>⊥</span\n\t\t\t\t></span\n\t\t\t></td\n\t\t></tr\n\t></table\n></div>\n"}});define("gridx/modules/PaginationBar",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/connect","dojo/query","dojo/string","dojo/keys","dojo/DeferredList","dojo/i18n","dijit/Dialog","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","../core/_Module","../util","dojo/text!../templates/GotoPagePane.html","dojo/text!../templates/PaginationBar.html","dojo/i18n!../nls/PaginationBar","dijit/form/Button","dijit/form/NumberTextBox"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13){var _14=_1([_d,_e,_f],{templateString:_12,pager:null,postMixInProperties:function(){_3.mixin(this,this.pager.module._nls);},postCreate:function(){this._updateStatus();},_updateStatus:function(){this.okBtn.set("disabled",!this.pageInputBox.isValid()||this.pageInputBox.get("displayedValue")==="");},_onOK:function(){this.pager.pagination.gotoPage(this.pageInputBox.get("value")-1);this.pager._gotoDialog.hide();},_onCancel:function(){this.pager._gotoDialog.hide();}});var _15=_1([_d,_e],{templateString:_13,pagination:null,module:null,_tabIndex:-1,postMixInProperties:function(){_3.mixin(this,this.module._nls);if(_5.isIE){var _16=this.module.grid.domNode.getAttribute("tabindex");this._tabIndex=_16>0?_16:0;}},postCreate:function(){_4.setSelectable(this.domNode,false);this.connect(this.pagination,"onSwitchPage","_onSwitchPage");this.connect(this.pagination,"onChangePageSize","_onChangePageSize");this.connect(this.module.grid.model,"onSizeChange","_onSwitchPage");this.refresh();},refresh:function(){this._createPageStepper();this._createPageSizeSwitch();this._createDescription();this._createGotoButton();},_onSwitchPage:function(){this._createPageStepper();this._createDescription();this.module.grid.vLayout.reLayout();},_onChangePageSize:function(_17,_18){var _19=_7("[pagesize=\""+_17+"\"]",this._sizeSwitchContainer)[0];if(_19){_4.addClass(_19,"dojoxGridxPagerSizeSwitchBtnActive");}_19=_7("[pagesize=\""+_18+"\"]",this._sizeSwitchContainer)[0];if(_19){_4.removeClass(_19,"dojoxGridxPagerSizeSwitchBtnActive");}this.module._findNextPageSizeSwitch();this._createPageStepper();this._createDescription();this.module.grid.vLayout.reLayout();},_findNodeByEvent:function(evt,_1a,_1b){var _1c=evt.target;while(!_4.hasClass(_1c,_1a)){if(_4.hasClass(_1c,_1b)){return null;}_1c=_1c.parentNode;}return _1c;},_toggleNode:function(cls,_1d){var _1e=_7("."+cls,this.domNode)[0];_1e.style.display=_1d?"":"none";return _1d;},_createPageStepper:function(){if(this._toggleNode("dojoxGridxPagerStepper",this.module.arg("pageStepper"))){var mod=this.module,_1f=this.pagination.pageCount(),_20=this.pagination.currentPage(),_21=mod.arg("maxVisiblePageCount"),_22=Math.max(_20-Math.floor(_21/2),0),_23=_22+_21-1,sb=[],i,tmp,dir=1,_24,_25,_26=[mod.arg("pageIndexTitleTemplate",this.pageIndexTitle),mod.arg("pageIndexWaiTemplate",this.pageIndexWai),mod.arg("pageIndexTemplate",this.pageIndex)];if(_23>=_1f){_22=Math.max(_22-_23-1+_1f,0);_23=_1f-1;}for(i=_22;i!==_23+dir;i+=dir){sb.push("<span class=\"dojoxGridxPagerStepperBtn dojoxGridxPagerPage ",i===_20?"dojoxGridxPagerStepperBtnActive":"","\" pageindex=\"",i,"\" title=\"",_8.substitute(_26[0],[i+1]),"\" aria-label=\"",_8.substitute(_26[1],[i+1]),"\" tabindex=\"",this._tabIndex,"\">",_8.substitute(_26[2],[i+1]),"</span>");}this._pageBtnContainer.innerHTML=sb.join("");if(!_20||_20===_1f-1){_25=!_20||_1f<=1;_24=_20||_1f<=1;}_4[_24?"addClass":"removeClass"](this._lastPageBtn,"dojoxGridxPagerStepperBtnDisable dojoxGridxPagerLastPageDisable");_4[_24?"addClass":"removeClass"](this._nextPageBtn,"dojoxGridxPagerStepperBtnDisable dojoxGridxPagerNextPageDisable");_4[_25?"addClass":"removeClass"](this._firstPageBtn,"dojoxGridxPagerStepperBtnDisable dojoxGridxPagerFirstPageDisable");_4[_25?"addClass":"removeClass"](this._prevPageBtn,"dojoxGridxPagerStepperBtnDisable dojoxGridxPagerPrevPageDisable");var _27=mod.grid.focus;if(_27&&_27.currentArea()==="pageStepper"){mod._findNextPageStepperBtn();}}},_gotoFirstPage:function(){this.module._focusPageIndex="First";this.pagination.gotoPage(0);},_gotoPrevPage:function(){this.module._focusPageIndex="Prev";this.pagination.gotoPage(this.pagination.currentPage()-1);},_gotoNextPage:function(){this.module._focusPageIndex="Next";this.pagination.gotoPage(this.pagination.currentPage()+1);},_gotoLastPage:function(){this.module._focusPageIndex="Last";this.pagination.gotoPage(this.pagination.pageCount()-1);},_gotoPage:function(evt){var _28=this._findNodeByEvent(evt,"dojoxGridxPagerStepperBtn","dojoxGridxPagerPages");if(_28){this.module._focusPageIndex=_28.getAttribute("pageindex");this.pagination.gotoPage(parseInt(this.module._focusPageIndex,10));}},_onHoverPageBtn:function(evt){var _29=this._findNodeByEvent(evt,"dojoxGridxPagerStepperBtn","dojoxGridxPagerPages");if(_29){_4.addClass(_29,"dojoxGridxPagerStepperBtnHover");}},_onLeavePageBtn:function(evt){var _2a=this._findNodeByEvent(evt,"dojoxGridxPagerStepperBtn","dojoxGridxPagerPages");if(_2a){_4.removeClass(_2a,"dojoxGridxPagerStepperBtnHover");}},_createPageSizeSwitch:function(){if(this._toggleNode("dojoxGridxPagerSizeSwitch",this.module.arg("sizeSwitch"))){var sb=[],mod=this.module,_2b=this._tabIndex,_2c=mod.arg("pageSizeSeparator"),_2d=this.pagination.pageSize(),_2e=[mod.arg("pageSizeTitleTemplate",this.pageSizeTitle),mod.arg("pageSizeWaiTemplate",this.pageSizeWai),mod.arg("pageSizeTemplate",this.pageSize),mod.arg("pageSizeAllTitleText",this.pageSizeAllTitle),mod.arg("pageSizeAllWaiText",this.pageSizeAllWai),mod.arg("pageSizeAllText",this.pageSizeAll)];_2.forEach(mod.arg("pageSizes"),function(_2f){var _30=false;if(!(_2f>0)){_2f=0;_30=true;}sb.push("<span class=\"dojoxGridxPagerSizeSwitchBtn ",_2d===_2f?"dojoxGridxPagerSizeSwitchBtnActive":"","\" pagesize=\"",_2f,"\" title=\"",_30?_2e[3]:_8.substitute(_2e[0],[_2f]),"\" aria-label=\"",_30?_2e[4]:_8.substitute(_2e[1],[_2f]),"\" tabindex=\"",_2b,"\">",_30?_2e[5]:_8.substitute(_2e[2],[_2f]),"</span>","<span class=\"dojoxGridxPagerSizeSwitchSeparator\">"+_2c+"</span>");});sb.pop();this._sizeSwitchContainer.innerHTML=sb.join("");}},_switchPageSize:function(evt){var _31=this._findNodeByEvent(evt,"dojoxGridxPagerSizeSwitchBtn","dojoxGridxPagerSizeSwitch");if(_31){var _32=this.module._focusPageSize=parseInt(_31.getAttribute("pagesize"),10);this.pagination.setPageSize(_32);}},_createDescription:function(){if(this._toggleNode("dojoxGridxPagerDescription",this.module.arg("description"))){var mod=this.module,_33=mod.model.size();if(_33){var _34=this.pagination.firstIndexInPage(),_35=this.pagination.lastIndexInPage();this._descContainer.innerHTML=_8.substitute(mod.arg("descriptionTemplate",this.description),[_34+1,_35+1,_33]);}else{this._descContainer.innerHTML=mod.arg("descriptionEmptyText",this.descriptionEmpty);}}},_createGotoButton:function(){this._toggleNode("dojoxGridxPagerGoto",this.module.arg("gotoButton"));},_showGotoDialog:function(){var mod=this.module;if(!this._gotoDialog){this._gotoDialog=new _c({title:this.gotoDialogTitle,refNode:mod.grid.domNode,content:new _14({pager:this})});}var _36=this.pagination.pageCount(),_37=this._gotoDialog.content;_37.pageCountMsgNode.innerHTML=_8.substitute(this.gotoDialogPageCount,[_36]);_37.pageInputBox.constraints={fractional:false,min:1,max:_36};this._gotoDialog.show();}});return _10.registerModule(_1("gridx.modules.PaginationBar",_10,{name:"paginationBar",required:["pagination","vLayout"],getAPIPath:function(){return {paginationBar:this};},load:function(_38,_39){var _3a=this.grid,_3b=this;this.arg("maxVisiblePageCount",function(arg){return arg>0;});this.arg("pageSizes",function(arg){return _3.isArrayLike(arg);});if(String(this.arg("position")).toLowerCase()=="top"){_3a.vLayout.register(this,"_pagerNode","headerNode",-5);}else{_3a.vLayout.register(this,"_pagerNode","footerNode",5);}(new _a([_3a.pagination.loaded,_39])).then(function(){_3b._init();_3b.loaded.callback();});},destroy:function(){this.inherited(arguments);if(this._pager){delete this._pagerNode;this._pager.destroyRecursive();}},maxVisiblePageCount:5,pageSizeSeparator:"|",position:"bottom",pageSizes:[5,10,25,50,0],description:true,sizeSwitch:true,pageStepper:true,gotoButton:true,refresh:function(){this._pager.refresh();this.grid.vLayout.reLayout();},show:function(){this._pager.domNode.style.display="block";this.grid.vLayout.reLayout();},hide:function(){this._pager.domNode.style.display="none";this.grid.vLayout.reLayout();},_init:function(){this._nls=_b.getLocalization("gridx","PaginationBar");this._pager=new _15({pagination:this.grid.pagination,module:this});this._pagerNode=this._pager.domNode;this._initFocus();},_initFocus:function(){var _3c=this.grid.focus,_3d=this,_3e=this.grid,_3f=this._pager;if(_3c){_3c.registerArea({name:"pageSizeSwitch",priority:5,focusNode:_3f._sizeSwitchContainer,doFocus:_3.hitch(this,this._findNextPageSizeSwitch,false,false)});this.connect(_3f._sizeSwitchContainer,"onkeypress",function(evt){if(evt.keyCode===_9.LEFT_ARROW||evt.keyCode===_9.RIGHT_ARROW){_3d._findNextPageSizeSwitch(true,evt.keyCode===(_3e.isLeftToRight()?_9.LEFT_ARROW:_9.RIGHT_ARROW));}else{if(evt.keyCode===_9.ENTER&&_4.hasClass(evt.target,"dojoxGridxPagerSizeSwitchBtn")&&!_4.hasClass(evt.target,"dojoxGridxPagerSizeSwitchBtnActive")){_3e.pagination.setPageSize(_3d._focusPageSize);}}});_3c.registerArea({name:"pageStepper",priority:6,focusNode:_3f._pageStepperContainer,doFocus:_3.hitch(this,this._findNextPageStepperBtn,false,false)});this.connect(_3f._pageStepperContainer,"onkeypress",function(evt){if(evt.keyCode===_9.LEFT_ARROW||evt.keyCode===_9.RIGHT_ARROW){_3d._findNextPageStepperBtn(true,evt.keyCode===(_3e.isLeftToRight()?_9.LEFT_ARROW:_9.RIGHT_ARROW));}else{if(evt.keyCode===_9.ENTER&&_4.hasClass(evt.target,"dojoxGridxPagerStepperBtn")&&!_4.hasClass(evt.target,"dojoxGridxPagerStepperBtnActive")&&!_4.hasClass(evt.target,"dojoxGridxPagerStepperBtnDisable")){if(isNaN(parseInt(_3d._focusPageIndex,10))){_3f["_goto"+_3d._focusPageIndex+"Page"]();}else{_3e.pagination.gotoPage(parseInt(_3d._focusPageIndex,10));}}}});_3c.registerArea({name:"gotoPage",priority:7,focusNode:_3f._gotoBtn,doFocus:function(evt){_11.stopEvent(evt);_3f._gotoBtn.focus();return true;}});this.connect(_3f._gotoBtn,"onkeypress",function(evt){if(evt.keyCode===_9.ENTER){_3f._showGotoDialog();}});}},_focus:function(_40,_41,_42,_43,_44){var dir=_43?-1:1,i=_41?_2.indexOf(_40,_41)+(_42?dir:0):(_43?_40.length-1:0),_45=function(i,dir){while(_40[i]&&!_44(_40[i])){i+=dir;}return _40[i];};_41=_45(i,dir)||_45(i-dir,-dir);if(_41){_41.focus();}return _41;},_findNextPageSizeSwitch:function(_46,_47,evt){_11.stopEvent(evt);var _48=_7("[pagesize=\""+this._focusPageSize+"\"]",this._pager._sizeSwitchContainer)[0],_49=_7(".dojoxGridxPagerSizeSwitchBtn",this._pager._sizeSwitchContainer);_48=this._focus(_49,_48,_46,_47,function(_4a){return !_4.hasClass(_4a,"dojoxGridxPagerSizeSwitchBtnActive");});if(_48){this._focusPageSize=parseInt(_48.getAttribute("pagesize"),10);}return _48;},_findNextPageStepperBtn:function(_4b,_4c,evt){_11.stopEvent(evt);var _4d=_7("[pageindex=\""+this._focusPageIndex+"\"]",this._pager._pageStepperContainer)[0],_4e=_7(".dojoxGridxPagerStepperBtn",this._pager._pageStepperContainer);_4d=this._focus(_4e,_4d,_4b,_4c,function(_4f){return !_4.hasClass(_4f,"dojoxGridxPagerStepperBtnActive")&&!_4.hasClass(_4f,"dojoxGridxPagerStepperBtnDisable");});if(_4d){this._focusPageIndex=_4d.getAttribute("pageindex");}return _4d;}}));});