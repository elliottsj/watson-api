//>>built
define("gridx/modules/exporter/Table",["dojo/_base/declare","dojo/_base/lang","../../core/_Module","dojo/_base/Deferred","dojo/dom-geometry","./Exporter"],function(_1,_2,_3,_4,_5){return _3.registerModule(_1("gridx.modules.exporter.Table",_3,{name:"table",forced:["exporter"],getAPIPath:function(){return {"exporter":{toTable:_2.hitch(this,this.toTable)}};},load:function(_6,_7){},toTable:function(_8){this._result="";this._rowIdx=0;return this.grid.exporter._export(_8||{},this);},getResult:function(){this._result="<div style=\"position: relative;\">"+"<div class=\"grid_view\" style=\"position: absolute; top: 0; left:0px;\">"+this._result+"</div></div>";return this._result;},beforeHeader:function(_9,_a){if(!_2.isArray(_a.columnIds)||_a.columnIds.length==0){return false;}var _b=_5.getMarginBox(this.grid.headerNode),_c=_b.h;this._totalWidth=_b.w;this._header=["<table class=\"grid_header\" style=\"table-layout:fixed; width:",this._totalWidth,"px;height:",_c,"px;\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr>"];return true;},handleHeaderCell:function(_d,_e){var _f=this.grid.column(_e.columnId,true);this._header.push("<th colid=\"",_f.id,"\" style=\"width: ",_f.getWidth()||"auto","\">",_f.name(),"</th>");},afterHeader:function(_10,_11){this._header.push("</tr><tbody></table>");this._result+=this._header.join("");},beforeBody:function(_12){this._rows=[];return true;},beforeProgress:function(_13,_14){return true;},beforeRow:function(_15,_16){var _17=_16.rowId,_18=this.grid.row(_17,true).index();this._cells=["<table class=\"grid_row_",(this._rowIdx++)%2?"even":"odd","\" style=\"table-layout:fixed; width:",this._totalWidth,"px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" rowId=\"",_17,"\" rowIndex=\"",_18,"\"><tbody><tr>"];return true;},handleCell:function(_19,_1a){var _1b=_1a.data,col=this.grid.column(_1a.columnId,true);if(_1b===null){_1b="";}else{if(_1b===undefined){_1b=String(grid.cell(_1a.rowId,_1a.columnId,true).data())||"";}else{_1b=String(_1b);}}this._cells.push("<td colid=\"",col.id,"\" style=\"width: ",col.getWidth()||"auto","\">",_1b,"</td>");},afterRow:function(_1c,_1d){this._cells.push("</tr></tbody></table>");this._rows.push(this._cells.join(""));},afterProgress:function(_1e,_1f){},afterBody:function(_20){this._result+=this._rows.join("");}}));});