//>>built
define("gridx/modules/select/Column",["dojo/_base/declare","dojo/_base/query","dojo/_base/array","dojo/_base/html","dojo/_base/sniff","dojo/keys","./_Base","../../core/_Module"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _8.registerModule(_1("gridx.modules.select.Column",_7,{name:"selectColumn",optional:["columnResizer"],columnMixin:{select:function(){this.grid.select.column._markById(this.id,true);return this;},deselect:function(){this.grid.select.column._markById(this.id,false);return this;},isSelected:function(){return this.grid.select.column.isSelected(this.id);}},selectById:function(id){this._markById(id,true);},deselectById:function(id){this._markById(id,false);},isSelected:function(id){var c=this.grid._columnsById[id];return !!(c&&c._selected);},getSelected:function(){var _9=[],g=this.grid,i,_a=g._columns.length,c;for(i=0;i<_a;++i){c=g._columns[i];if(c._selected){_9.push(c.id);}}return _9;},clear:function(){var _b=this.grid._columns,i,_c=_b.length;for(i=0;i<_c;++i){this._markById(_b[i].id,false);}},_type:"column",_init:function(){this.batchConnect([this.grid,"onHeaderCellClick",function(e){this._select(e.columnId,e.ctrlKey);}],[this.grid,_5("ff")<4?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(e){if(e.keyCode===_6.SPACE){this._select(e.columnId,e.ctrlKey);}}]);},_markById:function(id,_d){if(this.arg("enabled")){var c=this.grid._columnsById[id];_d=!!_d;if(c&&!c._selected==_d){c._selected=_d;this._highlight(id,_d);this[_d?"onSelected":"onDeselected"](this.grid.column(id,true));}}},_highlight:function(id,_e){_2("[colid='"+id+"']",this.grid.bodyNode).forEach(function(_f){_4[_e?"addClass":"removeClass"](_f,"dojoxGridxColumnSelected");this.onHighlightChange({column:this.grid._columnsById[id].index},_e);},this);},_onRender:function(_10,_11){var i,j,end=_10+_11,bn=this.grid.bodyNode,_12;var _13=_3.filter(this.grid._columns,function(col){return col._selected;});for(i=_13.length-1;i>=0;--i){for(j=_10;j<end;++j){_12=_2(["[visualindex=\"",j,"\"] [colid=\"",_13[i].id,"\"]"].join(""),bn)[0];_4.addClass(_12,"dojoxGridxColumnSelected");}}}}));});