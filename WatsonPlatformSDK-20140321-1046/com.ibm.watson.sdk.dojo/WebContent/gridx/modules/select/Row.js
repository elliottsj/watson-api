//>>built
define("gridx/modules/select/Row",["dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/_base/sniff","dojo/keys","./_RowCellBase","../../core/_Module"],function(_1,_2,_3,_4,_5,_6,_7){return _7.registerModule(_1("gridx.modules.select.Row",_6,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this;},deselect:function(){this.grid.select.row.deselectById(this.id);return this;},isSelected:function(){return this.model.isMarked(this.id);}},triggerOnCell:false,getSelected:function(){return this.model.getMarkedIds();},clear:function(){if(this.arg("enabled")){var _8=this.model;_2.forEach(_8.getMarkedIds(),function(id){_8.markById(id,false);});}},_type:"row",_init:function(){this.inherited(arguments);this.model._spTypes.select=1;this.batchConnect([this.grid,"onRowMouseDown",function(e){if(this.arg("triggerOnCell")||!e.columnId){this._select(e.rowId,e.ctrlKey);}}],[this.grid,_4.isFF<4?"onRowKeyUp":"onRowKeyDown",function(e){if((this.arg("triggerOnCell")||!e.columnId)&&e.keyCode===_5.SPACE){this._select(e.rowId,e.ctrlKey);}}]);},_onMark:function(_9,id,_a){if(_a==="select"){this._highlight(id,_9);this.model.when({id:id},function(){this[_9?"onSelected":"onDeselected"](this.grid.row(id,true));},this);}},_highlight:function(_b,_c){var _d=this.grid.body.getRowNode({rowId:_b});if(_d){_3[_c?"addClass":"removeClass"](_d,"dojoxGridxRowSelected");this.onHighlightChange({row:parseInt(_d.getAttribute("visualindex"),10)},_c);}},_markById:function(id,_e){this.model.markById(id,_e);},_onRender:function(_f,_10){var _11=this.model,end=_f+_10,i,id;for(i=_f;i<end;++i){id=_11.indexToId(i);if(_11.isMarked(id)){this._highlight(id,true);}}}}));});