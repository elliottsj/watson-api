//>>built
require(["dojo","gridx/Grid","gridx/core/model/AsyncCache","gridx/tests/support/data/MusicData","gridx/tests/support/stores/ItemFileWriteStore","gridx/tests/support/modules","gridx/tests/support/TestPane","dijit/Dialog","dijit/form/Select","dijit/form/NumberTextBox","dijit/form/CheckBox","dijit/form/Button"],function(_1,_2,_3,_4,_5,_6,_7){grid=new _2({id:"grid",cacheClass:_3,store:_5({dataSource:_4,size:100}),structure:_4.layouts[0],modules:[_6.RowHeader,_6.ExtendedSelectRow,_6.ExtendedSelectColumn,_6.ExtendedSelectCell,_6.ExportCSV,_6.Printer]});grid.placeAt("gridContainer");grid.startup();createColumnSelection();var tp=new _7({});tp.placeAt("ctrlPane");tp.addTestSet("Core Functions",["<div data-dojo-type=\"dijit.form.Button\" data-dojo-props=\"onClick: testExportCSV\">Export CSV by default parameters</div><br/>","<div data-dojo-type=\"dijit.form.Button\" data-dojo-props=\"onClick: testExportTable\">Export TABLE by default parameters</div><br/>","<div data-dojo-type=\"dijit.form.Button\" data-dojo-props=\"onClick: testPrint\">Print by default parameters</div><br/>","<div data-dojo-type=\"dijit.form.Button\" data-dojo-props=\"onClick: showCustomDialog\">Export/Print by custom parameters</div><br/>",].join(""));tp.startup();});var c=[],createColumnSelection=function(){if(grid){var _8=grid.columns(),i=0,_9,tr,td;for(;i<_8.length;i++){if(i%2==0){tr=dojo.create("tr");dojo.byId("columnSelection").appendChild(tr);}td=dojo.create("td");c[i]=new dijit.form.CheckBox({id:_8[i].id,checked:true});c[i].startup();td.appendChild(c[i].domNode);_9=dojo.create("label",{innerHTML:_8[i].name()+"  "});td.appendChild(_9);tr.appendChild(td);}}};var getExportArgs=function(){var _a=parseInt(dijit.byId("start").get("value"),10)||null,_b=parseInt(dijit.byId("count").get("value"),10)||null,_c=dijit.byId("includeHeader").checked,_d=dijit.byId("selectedOnly").checked,_e=dijit.byId("useStoreData").checked,_f=[];for(var i=0;i<c.length;i++){if(c[i].checked){_f.push(c[i].id);}}return {columns:_f,start:_a,count:_b,includeHeader:_c,selectedOnly:_d,useStoreData:_e};};var testExportCSV=function(){grid.exporter.toCSV({}).then(function(res){dojo.byId("resultsArea").value=res;dijit.byId("resultDialog").show();});};var testExportTable=function(){grid.exporter.toTable({}).then(function(res){dojo.byId("resultsArea").value=res;dijit.byId("resultDialog").show();});};var showCustomDialog=function(){dijit.byId("customDialog").show();};var testPrint=function(){grid.printer.print({});};var customExport=function(){dijit.byId("customDialog").hide();grid.exporter["to"+dijit.byId("typeSelection").get("value")](getExportArgs()).then(function(res){dojo.byId("resultsArea").value=res;dijit.byId("resultDialog").show();});};var customPrint=function(){dijit.byId("customDialog").hide();grid.printer.print(getExportArgs());};var setSelectedOnly=function(_10){dijit.byId("start").set("disabled",_10);dijit.byId("count").set("disabled",_10);for(var i=0;i<c.length;i++){c[i].set("disabled",_10);}};