//>>built
require({cache:{"url:idx/app/templates/AppMarquee.html":"<div class=\"${baseClass}\">\r\n<div class=\"${baseClass}Header\" data-dojo-attach-point=\"headerNode\"></div>\r\n<div class=\"${baseClass}Left\" data-dojo-attach-point=\"leftNode\"></div>\r\n<div class=\"${baseClass}Center\" data-dojo-attach-point=\"centerNode\"></div>\r\n<div class=\"${baseClass}Right\" data-dojo-attach-point=\"rightNode\"></div>\r\n<div class=\"${baseClass}Footer\" data-dojo-attach-point=\"footerNode\"></div>\r\n</div>\r\n"}});define("idx/app/AppMarquee",["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/_base/xhr","../util","../string","../border/BorderDesign","../border/BorderLayout","dojo/text!./templates/AppMarquee.html","../ext"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){return _1("idx.app.AppMarquee",[_2,_3],{appName:"",appLogo:"",vendorName:"",vendorLogo:"",baseClass:"idxAppMarquee",templateString:_10,autoSizing:true,preferVendorLogo:true,preferAppLogo:true,constructor:function(_11,_12){if(_12){this.domNode=_12;}},_fillContent:function(_13){if(this.isLeftToRight()){this.leaderNode=this.leftNode;this.trailerNode=this.rightNode;}else{this.leaderNode=this.rightNode;this.trailerNode=this.leftNode;}this.nodeLookup={header:this.headerNode,top:this.headerNode,left:this.leftNode,leader:this.leaderNode,center:this.centerNode,trailer:this.trailerNode,right:this.rightNode,footer:this.footerNode,bottom:this.footerNode};var _14=this.baseClass+"Unused";for(node in this.nodeLookup){_6.add(this.nodeLookup[node],_14);}this.appNode=this.nodeLookup[this.cssOptions.app];this.vendorNode=this.nodeLookup[this.cssOptions.vendor];this.bodyNode=this.nodeLookup[this.cssOptions.body];if(!this.appNode){this.appNode=this.leaderNode;}if(!this.vendorNode){this.vendorNode=this.trailerNode;}if(!this.bodyNode){this.bodyNode=this.centerNode;}if(this.appNode){_6.remove(this.appNode,_14);}if(this.vendorNode){_6.remove(this.vendorNode,_14);}if(this.bodyNode){_6.remove(this.bodyNode,_14);}var _15={"class":this.baseClass+"Body"};this.containerNode=_7.create("div",_15,this.bodyNode);this.inherited(arguments);},buildRendering:function(){this.cssOptions=_c.getCSSOptions(this.baseClass+"Options",this.domNode);if(!this.cssOptions){this.cssOptions={app:"leader",vendor:"trailer",body:"center",borderDesign:"sidebar",fixedSize:"false"};}this.borderDesign=this.cssOptions.borderDesign;if(!this.borderDesign){this.borderDesign="sidebar";}var bd=_e.create(this.borderDesign);if(bd==null){this.borderDesign=new _e("sidebar");}else{this.borderDesign=bd;}this.fixedSize=this.cssOptions.fixedSize;if(this.fixedSize==null){this.fixedSize="false";}if((this.fixedSize!="true")&&(this.fixedSize!="false")){this.fixedSize=false;}else{this.fixedSize=(this.fixedSize=="true");}this.inherited(arguments);var _16={"class":this.baseClass+"AppLogo","id":this.id+"_AppLogo","aria-labelledby":this.id+"_AppName"};this.appLogoNode=_7.create("img",_16,this.appNode);var _17={"class":this.baseClass+"AppName","id":this.id+"_AppName"};this.appNameNode=_7.create("div",_17,this.appNode);this._updateAppDOM(true);_16={"class":this.baseClass+"VendorLogo","id":this.id+"_VendorLogo","aria-labelledby":this.id+"_VendorName"};this.vendorLogoNode=_7.create("img",_16,this.vendorNode);_17={"class":this.baseClass+"VendorName","id":this.id+"_VendorName"};this.vendorNameNode=_7.create("div",_17,this.vendorNode);this._updateVendorDOM(true);},postCreate:function(){this.inherited(arguments);},startup:function(){if(this._started){return;}this.borderLayout=new _f({frameNode:this.domNode,topNode:this.headerNode,bottomNode:this.footerNode,leftNode:this.leftNode,rightNode:this.rightNode,centerNode:this.centerNode,design:this.borderDesign,leftToRight:this.isLeftToRight()});this.inherited(arguments);this.resize();},resize:function(){if(!this._started){return;}var _18=_5.body();var _19=_6.contains(_18,"dijit_a11y");_9.set(this.bodyNode,{width:"auto",left:"auto",right:"auto",top:"auto",bottom:"auto"});var _1a=_c.getStaticSize(this.containerNode);var _1b=null;if(this.appLogo||this.appName){_1b=(this.appLogo&&(!_19)&&(this.preferAppLogo||(!this.appName)))?this.appLogoNode:this.appNameNode;}var _1c=null;if(_1b){_1c=_c.fitToWidth(this.appNode,_1b);}var _1d=null;if(this.vendorLogo||this.vendorName){_1d=(this.vendorLogo&&(!_19)&&(this.preferVendorLogo||(!this.vendorName)))?this.vendorLogoNode:this.vendorNameNode;}var _1e=null;if(_1d){_1e=_c.fitToWidth(this.vendorNode,_1d);}this.borderLayout.layout();var _1f=_a.getMarginBox(this.containerNode);if(_1f.w<_1a.w){var _20=_1a.w-_1f.w;var _21=_a.getMarginBox(this.appNode);var _22=_21.w-_20;if(_22<0){_22=0;}_9.set(this.appNode,"width",""+_22+"px");this.borderLayout.layout();}if((this.appLogo&&(this.preferAppLogo||(!this.appName))&&(!this.appLogoNode.complete))||(this.vendorLogo&&(this.preferVendorLogo||(!this.vendorName))&&(!this.vendorLogoNode.complete))){setTimeout(_4.hitch(this,this.resize),500);return;}if(_c.isFF){_9.set(this.bodyNode,{textAlign:"right"});var cs=_9.getComputedStyle(this.bodyNode);var x=cs.textAlign+"-ffProblem";_9.set(this.bodyNode,{textAlign:null});}},_setAppLogoAttr:function(_23){var _24=this.appLogo;this.appLogo=_d.nullTrim(_23);if(!this._started){return;}this._updateAppDOM(_24!=this.appLogo);},_setAppNameAttr:function(_25){this.appName=_d.nullTrim(_25);if(!this._started){return;}this._updateAppDOM(false);},_setPreferAppLogoAttr:function(_26){this.preferAppLogo=_26;if(!this._started){return;}this._updateAppDOM(false);},_setVendorLogoAttr:function(_27){var _28=this.vendorLogo;this.vendorLogo=_d.nullTrim(_27);if(!this._started){return;}this._updateVendorDOM(_28!=this.vendorLogo);},_setVendorNameAttr:function(_29){this.vendorName=_d.nullTrim(_29);if(!this._started){return;}this._updateVendorDOM(false);},_setPreferVendorLogoAttr:function(_2a){this.preferVendorLogo=_2a;if(!this._started){return;}this._updateVendorDOM(false);},_updateAppDOM:function(_2b){if(this.appLogo&&(this.preferAppLogo||(!this.appName))){_6.add(this.domNode,this.baseClass+"ShowAppLogo");_6.remove(this.domNode,this.baseClass+"ShowAppName");}else{if(this.appName){_6.add(this.domNode,this.baseClass+"ShowAppName");_6.remove(this.domNode,this.baseClass+"ShowAppLogo");}}if(this.appLogo){_8.set(this.appLogoNode,"src",this.appLogo);}if(this.appName){this.appNameNode.innerHTML=this.appName;_8.set(this.appLogoNode,"alt",this.appName);}if(this.appLogo&&_2b){_b.get({url:this.appLogo,sync:true,preventCache:false,handle:_4.hitch(this,this.resize)});if(_c.isIE==7){setTimeout(_4.hitch(this,this.resize),500);}}this.resize();},_updateVendorDOM:function(_2c){if(this.vendorLogo&&(this.preferVendorLogo||(!this.vendorName))){_6.add(this.domNode,this.baseClass+"ShowVendorLogo");_6.remove(this.domNode,this.baseClass+"ShowVendorName");}else{if(this.vendorName){_6.add(this.domNode,this.baseClass+"ShowVendorName");_6.remove(this.domNode,this.baseClass+"ShowVendorLogo");}}if(this.vendorLogo){_8.set(this.vendorLogoNode,"src",this.vendorLogo);}if(this.vendorName){this.vendorNameNode.innerHTML=this.vendorName;_8.set(this.vendorLogoNode,"alt",this.vendorName);}if(this.vendorLogo&&_2c){_b.get({url:this.vendorLogo,sync:true,preventCache:false,handle:_4.hitch(this,this.resize)});if(_c.isIE==7){setTimeout(_4.hitch(this,this.resize),500);}}this.resize();}});});