//>>built
require({cache:{"url:idx/app/templates/TabMenuLauncher.html":"<div class=\"${baseClass}\" data-dojo-attach-point=\"containerNode\">\r\n  <div class=\"${baseClass}TabDock\" data-dojo-attach-point=\"dockNode\"></div>\r\n  <div class=\"${baseClass}ContentStack\" data-dojo-attach-point=\"stackNode\"></div>\r\n</div>\r\n"}});define("idx/app/TabMenuLauncher",["dojo/_base/declare","./_Launcher","dijit/_TemplatedMixin","dojo/_base/lang","dojo/aspect","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dijit/focus","dijit/layout/StackContainer","../util","./TabMenuDock","./Workspace","dojo/text!./templates/TabMenuLauncher.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){return _1("idx.app.TabMenuLauncher",[_2,_3],{showMenu:false,showOverflow:false,baseClass:"idxTabMenuLauncher",templateString:_f,constructor:function(_10,_11){},postMixInProperties:function(){this.inherited(arguments);},buildRendering:function(){this.cssOptions=_c.getCSSOptions(this.baseClass+"Options",this.domNode);if(!this.cssOptions){this.cssOptions={dockWidget:"idx.app.TabMenuDock"};}this.dockWidgetClass=_d;this.inherited(arguments);this.tabDock=new this.dockWidgetClass({showMenu:this.showMenu,showOverflow:this.showOverflow},this.dockNode);this.contentStack=new _b();_6.place(this.contentStack.domNode,this.stackNode,"last");},_createWorkspaceArgs:function(_12,_13,_14,_15){var _16=this.inherited(arguments);var _17=this._initialWorkspaceTypeID;if(!this._launcherStarted){if((_17==null)||(_17.length==0)){_16.open=(this._workspaceCount==0);}else{if(_12.get("workspaceTypeID")==_17){var _18=this.getOpenWorkspaceCount(_17);_16.open=(_18==0);}}}return _16;},workspaceLoaded:function(_19,_1a){this.contentStack.resize();},_getA11yMainNode:function(){if(!this.contentStack){return null;}return this.contentStack.domNode;},_getA11yNavigationNode:function(){if(!this.tabDock){return null;}return this.tabDock.domNode;},startup:function(){this.inherited(arguments);this.contentStack.startup();this.own(_5.after(this.tabDock,"onWorkspaceSelected",_4.hitch(this,this._onWorkspaceSelected),true));this._started=true;this.a11yStartup();this.resize();},selectWorkspace:function(_1b){this.inherited(arguments);this.tabDock.selectWorkspace(_1b);this.contentStack.selectChild(_1b);},getWorkspaces:function(_1c){if(_1c){return this.inherited(arguments);}else{var _1d=new Array();var _1e=this.contentStack.getChildren();for(var _1f=0;_1f<_1e.length;_1f++){var _20=_1e[_1f];if(!(_20 instanceof _e)){continue;}var _21=_20.get("workspaceID");if(this._workspacesByID[_21]!=_20){continue;}_1d.push(_20);}return _1d;}},_onWorkspaceSelected:function(_22,_23){this.inherited(arguments);if(!_22){return;}this.contentStack.selectChild(_22);if(_23){_23.set("open",false);}if(_22){_22.set("open",true);}},_workspaceCreated:function(_24){this.tabDock.addWorkspace(_24);this.contentStack.addChild(_24);var _25=_9.getContentBox(this.contentStack.domNode);_24.startup();this.resize();if((_24)&&(_24.domNode)){_7.set(_24.domNode,{role:"tabpanel",wairole:"tabpanel"});}this.inherited(arguments);},_workspaceClosing:function(_26){this.tabDock._doRemoveWorkspace(_26,(_26==this._selectedWorkspace));this.contentStack.removeChild(_26);return false;},_workspaceClosed:function(_27){this.inherited(arguments);},resize:function(_28,_29){if(!this._started){return;}this.inherited(arguments);this.tabDock.resize();var _2a=_9.getMarginBox(this.tabDock.domNode);var _2b=_2a.h;_8.set(this.stackNode,{position:"absolute",top:""+_2b+"px",left:"0px",right:"0px",bottom:"0px"});var _2c=_9.getContentBox(this.stackNode);this.contentStack.resize({w:_2c.w,h:_2c.h});},onFocus:function(){this.inherited(arguments);_a.focus(this.tabDock.domNode);}});});