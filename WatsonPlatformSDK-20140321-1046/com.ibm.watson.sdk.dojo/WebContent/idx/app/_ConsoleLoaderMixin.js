//>>built
define("idx/app/_ConsoleLoaderMixin",["dojo/_base/declare","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dijit/registry","idx/app/registry","dijit/layout/TabContainer","dojox/layout/ContentPane","idx/app/_HashHandlerMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){var _b=_1("idx.app._ConsoleLoaderMixin",[],{CN:"idx.app._ConsoleLoaderMixin",TYPE_CONTEXT:"context",TYPE_TAB:"tab",CONTAINER_ID_TOP:"_ctxMain",TAB_ID_TOP:"_tabMain",numCtx:0,href:"",useHash:true,constructor:function(_c){if(_c){_4.mixin(this,_c);}},loadUIFromRegistry:function(){var MN=this.CN+".loadUIFromRegistry";if(this.href){_7.href=this.href;}var _d=_7.getData();if(this.useHash){_2.safeMixin(this,new _a());}this._validate(_d);this._loadModulePaths(_d.items);this._loadRequires(_d.items);this._loadContext(_d);this._loadTabs(_d);if(this.useHash){this._setupHashHandler();}},addTab:function(_e){var _f=this._getArgs(_e);if(!_e.containerId){_e.containerId=this.id+this.TAB_ID_TOP;}var _10=_e.dojoType?_e.dojoType:"dojox.layout.ContentPane";_e.onLoad=_e.onLoad||function(){};if(this.useHash){_e=this._createItemForHash(_e);}if(_10==="dojox.layout.ContentPane"){_f.onLoad=function(){_e.onLoad(_6.byId(_e.id));};}var _11=this._add(_e,_f,_10);if(_e.dijit&&_11&&_10==="dojox.layout.ContentPane"){if(_f.id){_f.id+="_"+_e.dijit;}var _12=this._createWidget(_e.dijit,_f);if(_12!=null){_12.placeAt(_11.id);}}return _11;},addContext:function(_13){if(!_13.containerId){_13.containerId=this.id+this.CONTAINER_ID_TOP;}var _14=this._getArgsContext(_13);var _15=_13.dojoType?_13.dojoType:"dijit.layout.TabContainer";var _16=this._add(_13,_14,_15);return _16;},_add:function(_17,_18,_19){var _1a=_6.byId(_17.containerId);if(!_1a){return;}if(_17.cssclass){if(_17.cssclass=="idxConsoleFrameTabs"){}else{_18["class"]+=" "+_17.cssclass;}}if(_17.style){_18["style"]=_17.style;}var _1b=this._createWidget(_19,_18);if(_1b!=null){_1a.addChild(_1b);}return _1b;},_loadContext:function(_1c){_5.forEach(_1c.items,_4.hitch(this,function(_1d){if(_1d.type==this.TYPE_CONTEXT){var _1e=this.addContext(_1d);if(_1e){this.numCtx++;}}}));},_loadTabs:function(_1f){_5.forEach(_1f.items,_4.hitch(this,function(_20){if(!_20.type){_20.type=this.TYPE_TAB;}if(_20.type==this.TYPE_TAB){this.addTab(_20);}}));},_loadModulePaths:function(_21){var MN=this.CN+"._loadModulePaths";_5.forEach(_21,_4.hitch(this,function(_22){if(null!=_22.modulePaths&&_22.modulePaths.length>=1){_5.forEach(_22.modulePaths,_4.hitch(this,function(_23){_3.registerModulePath(_23.name,_23.value);}));}}));},_loadRequires:function(_24){var MN=this.CN+"._loadRequires";_5.forEach(_24,_4.hitch(this,function(_25){if(null!=_25.requires&&_25.requires.length>=1){_5.forEach(_25.requires,_4.hitch(this,function(_26){_3.require(_26);}));}}));},_createWidget:function(_27,_28){var MN=this.CN+"._createWidget ";var _29=null;try{_3.require(_27);var _2a=_4.getObject(_27);_29=new _2a(_28);}catch(error){var msg=MN+" "+_27+" "+error.message;alert(msg);}return _29;},_getArgs:function(_2b){var _2c={adjustPaths:true,id:_2b.id,renderStyles:true,executeScripts:true,style:"width:100%;height:100%;",title:this._getLocalizedName(_2b),context:_2b,selected:(_2b.selected===true?true:false),href:_2b.href};if(_2b.args){_4.mixin(_2c,_2b.args);}return _2c;},_getArgsContext:function(_2d){var _2e={id:_2d.id,title:this._getLocalizedName(_2d),selected:(_2d.selected===true?true:false)};if(_2d.args){_4.mixin(_2e,_2d.args);}return _2e;},_getLocalizedName:function(_2f){var _30=_2f.name?_2f.name:_2f.id;if(_2f.nls&&_2f.nls.path&&_2f.nls.file){try{_3.requireLocalization(_2f.nls.path,_2f.nls.file);var _31=_3.i18n.getLocalization(_2f.nls.path,_2f.nls.file)[_30];if(_31!=null){_30=_31;}}catch(error){var MN=this.CN+"._getLocalizedName ";}}return _30;},_validate:function(_32){}});return _b;});