//>>built
define("idx/border/BorderLayout",["dojo/_base/declare","dojo/dom-style","dojo/dom-geometry","../util","./BorderDesign"],function(_1,_2,_3,_4,_5){return _1("idx.border.BorderLayout",null,{design:null,frameNode:null,topNode:null,bottomNode:null,leftNode:null,rightNode:null,centerNode:null,constructor:function(_6){this.design=(_6.design instanceof _5)?_6.design:new _5(_6.design,_6.leftToRight);this.frameNode=_6.frameNode;this.topNode=_6.topNode;this.bottomNode=_6.bottomNode;this.leftNode=_6.leftNode;this.rightNode=_6.rightNode;this.centerNode=_6.centerNode;var _7={position:"absolute",margin:"0px"};this.style(this.topNode,_7);this.style(this.bottomNode,_7);this.style(this.leftNode,_7);this.style(this.rightNode,_7);_2.set(this.centerNode,_7);this._nodeLookup={header:this.topNode,top:this.topNode,left:this.leftNode,center:this.centerNode,right:this.rightNode,footer:this.bottomNode,bottom:this.bottomNode};if(_6.leftToRight!=null){this._nodeLookup.leader=(_6.leftToRight)?this.leftNode:this.rightNode;this._nodeLookup.trailer=(_6.leftToRight)?this.rightNode:this.leftNode;}},style:function(_8,_9){if(!_8){return;}_2.set(_8,_9);},marginBox:function(_a){if(!_a){return {w:0,h:0};}return _3.getMarginBox(_a);},layout:function(){var _b=this.marginBox(this.topNode);var _c=this.marginBox(this.leftNode);var _d=this.marginBox(this.rightNode);var _e=this.marginBox(this.bottomNode);var _f={left:_c.w+"px",right:_d.w+"px",top:_b.h+"px",bottom:_e.h+"px"};this.style(this.centerNode,_f);for(edge in _f){var _10={};var _11=this._nodeLookup[edge];var _12=this.design[edge+"Styler"];for(side in _12){var _13=_12[side];if(_f[_13]){_13=_f[_13];}_10[side]=_13;}this.style(_11,_10);}},setOptimalWidth:function(_14){var _15=this.computeOptimalWidth(_14);_2.set(this.centerNode,{width:""});_2.set(this.frameNode,{width:_15+"px"});this.layout();},computeOptimalWidth:function(_16){var _17=this.design.wideners;var _18=0;var _19=0;for(_18=0;_18<_17.length;_18++){var _1a=0;var _1b=_17[_18];if(_16&&(_1b.length>0)&&(_1b[0]=="center")){continue;}var _1c=0;for(_1a=0;_1a<_1b.length;_1a++){var _1d=this._nodeLookup[_1b[_1a]];if(!_1d){continue;}var dim=_4.getStaticSize(_1d);_1c+=dim.w;}if(_1c>_19){_19=_1c;}}return _19;},setOptimalHeight:function(_1e){var _1f=this.computeOptimalHeight(_1e);_2.set(this.centerNode,{height:""});_2.set(this.frameNode,{height:_1f+"px"});this.layout();},computeOptimalHeight:function(_20){var _21=this.design.heighteners;var _22=0;var _23=0;for(_22=0;_22<_21.length;_22++){var _24=0;var _25=_21[_22];if(_20&&(_25.length>0)&&(_25[0]=="center")){continue;}var _26=0;for(_24=0;_24<_25.length;_24++){var _27=this._nodeLookup[_25[_24]];if(!_27){continue;}var dim=_4.getStaticSize(_27);_26+=dim.h;}if(_26>_23){_23=_26;}}return _26;},setOptimalSize:function(){var _28=this.computeOptimalWidth();var _29=this.computeOptimalHeight();_2.set(this.centerNode,{height:"",width:""});_2.set(this.frameNode,{width:_28+"px",height:_29+"px"});this.layout();}});});