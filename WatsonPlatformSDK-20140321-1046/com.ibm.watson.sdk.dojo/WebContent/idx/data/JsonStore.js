//>>built
define("idx/data/JsonStore",["dojo/_base/declare","dojo/data/ItemFileWriteStore","dojo/_base/lang","dojo/_base/array"],function(_1,_2,_3,_4){return _1("idx.data.JsonStore",[_2],{identifier:"",label:"",items:"",constructor:function(_5){if(_5){this.identifier=(_5.identifier||this.identifier);this.label=(_5.label||this.label);this.items=(_5.items||this.items);}},setUrl:function(_6){this.url=_6;this.forceLoad();},setData:function(_7){this.data=_7;this.forceLoad();},getData:function(){var _8=_4.map(this._getItemsArray(),this.getItemData,this);if(this.items){var _9=_8;_8={};_8[this.items]=_9;}return _8;},getItemData:function(_a){var _b={};_4.forEach(this.getAttributes(_a),function(_c){var _d=_a[_c];if(!_d||_d.length===0){return;}if(_d.length===1){var _e=_d[0];if(this.isItem(_e)){_e=this.getItemData(_e);}_b[_c]=_e;}else{_b[_c]=_4.map(_d,function(_f){if(this.isItem(_f)){_f=this.getItemData(_f);}return _f;},this);}},this);return _b;},forceLoad:function(){this._loadFinished=false;},_getItemsFromLoadedData:function(_10){var _11;if(this.items){_11=_10[this.items];}else{if(_10&&!_3.isArray(_10)){_10=[_10];}_11=_10;}arguments[0]={items:_11,identifier:this.identifier,label:this.label};return this.inherited(arguments);}});});