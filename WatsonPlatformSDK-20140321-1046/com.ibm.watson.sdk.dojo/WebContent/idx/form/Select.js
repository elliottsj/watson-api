//>>built
require({cache:{"url:idx/form/templates/Select.html":"<div id=\"widget_${id}\" class=\"dijitInline dijitReset dijitLeft idxComposite\" dojoAttachPoint=\"_popupStateNode\"\r\n\t><div class=\"idxLabel dijitInline dijitHidden\" dojoAttachPoint=\"labelWrap\"><span class=\"idxRequiredIcon\">*&nbsp</span><label for=\"${id}\" dojoAttachPoint=\"compLabelNode\"></label></div\r\n\t><div class=\"dijitInline\" dojoAttachPoint=\"fieldWrap\"\r\n\t\t><table class=\"dijit dijitReset dijitInline dijitLeft\" dojoAttachPoint=\"_aroundNode,_buttonNode,tableNode,focusNode,stateNode,oneuiBaseNode\" cellspacing='0' cellpadding='0' role=\"listbox\" aria-haspopup=\"true\"\r\n\t\t\t><tbody role=\"presentation\"\r\n\t\t\t\t><tr role=\"presentation\"\r\n\t\t\t\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\r\n\t\t\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" dojoAttachPoint=\"containerNode\"></span\r\n\t\t\t\t\t\t><input type=\"hidden\" ${!nameAttrSetting}  dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"/\r\n\t\t\t\t\t></td\r\n\t\t\t\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\" dojoAttachPoint=\"titleNode\" role=\"presentation\"\r\n\t\t\t\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\r\n\t\t\t\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\r\n\t\t\t\t\t></td\r\n\t\t\t\t></tr\r\n\t\t\t></tbody\r\n\t\t></table\r\n\t></div\r\n\t><div class=\"idxUnit dijitInline dijitHidden\" dojoAttachPoint=\"compUnitNode\"></div\r\n\t><div class='dijitReset dijitValidationContainer dijitInline' dojoAttachPoint=\"iconNode\"\r\n\t\t><div class=\"dijitValidationIcon\"\r\n\t\t\t><input class=\"dijitReset dijitInputField dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"/\r\n\t\t></div\r\n\t></div\r\n></div>"}});define("idx/form/Select",["dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/window","dojo/_base/lang","dojo/_base/kernel","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojo/has","dojo/keys","dojo/query","dijit/registry","idx/widget/HoverHelpTooltip","dijit/form/Select","dijit/form/_FormSelectWidget","dijit/form/_FormValueWidget","dijit/_HasDropDown","../util","./_CompositeMixin","./_CssStateMixin","dojo/text!./templates/Select.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17){var _18=_5.getObject("idx.oneui.form",true);return _18.Select=_1("idx.form.Select",[_10,_15,_16],{templateString:_17,baseClass:"idxSelectWrap",oneuiBaseClass:"dijitSelect",maxHeight:-1,placeHolder:"",cssStateNodes:{"titleNode":"dijitDownArrowButton"},_exchangeAttribute:function(_19){if(this.domNode.hasAttribute(_19)){this.oneuiBaseNode.setAttribute(_19,this.domNode.getAttribute(_19));this.domNode.removeAttribute(_19);}},closeDropDown:function(){this.inherited(arguments);this._exchangeAttribute("aria-expanded");},openDropDown:function(){this.inherited(arguments);this._exchangeAttribute("aria-expanded");},postCreate:function(){var _1a=this.domNode;this.domNode=this.oneuiBaseNode;this.inherited(arguments);this.domNode=_1a;this._resize();},refocus:function(){this._refocusing=true;this.focus();this._refocusing=false;},_isEmpty:function(){return this.value===0||(/^\s*$/.test(this.value||""));},getErrorMessage:function(){return (this.required&&this._isEmpty())?this._missingMsg:this.invalidMessage;},validate:function(_1b){var _1c=this.disabled||this.isValid(_1b);this._set("state",_1c?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_1c?"false":"true");var _1d=_1c?"":this.getErrorMessage();this._set("message",_1d);if(this._hasBeenBlurred){this.displayMessage(_1d);}return _1c;},displayMessage:function(_1e){if(_1e){if(!this.messageTooltip){this.messageTooltip=new _f({connectId:[this.iconNode],label:_1e,position:this.tooltipPosition,forceFocus:false});}else{this.messageTooltip.set("label",_1e);}if(this.focused){var _1f=_9.get(this.iconNode,"visibility")=="hidden"?this.oneuiBaseNode:this.iconNode;this.messageTooltip.open(_1f);}}else{this.messageTooltip&&this.messageTooltip.close();}},_setValueAttr:function(_20,_21){if(!this._onChangeActive){_21=null;}if(this._loadingStore){this._pendingValue=_20;return;}var _22=this.getOptions()||[];if(!_5.isArray(_20)){_20=[_20];}_2.forEach(_20,function(i,idx){if(!_5.isObject(i)){i=i+"";}if(typeof i==="string"){_20[idx]=_2.filter(_22,function(_23){return _23.value===i;})[0]||{value:"",label:""};}},this);_20=_2.filter(_20,function(i){return i&&i.value;});if(!this.placeHolder&&(!_20[0]||!_20[0].value)&&_22.length){_20[0]=_22[0];}_2.forEach(_22,function(i){i.selected=_2.some(_20,function(v){return v.value===i.value;});});var val=_2.map(_20,function(i){return i.value;}),_24=_2.map(_20,function(i){return i.label;});var _25=this.multiple?_24:_24[0];if(!_25){_25=this.placeHolder;}this._setDisplay(_25);if(this.fieldWidth){var _26=_d("span.idxSelectWrapLabel",this.containerNode);if(_26.length>0){_26=_26[0];}_8.add(_26,"dojoxEllipsis");}var _27=this.get("value");_12.prototype._setValueAttr.apply(this,[this.multiple?val:val[0],_21]);this._updateSelection();var _28=this.get("value");_a.set(this.valueNode,"value",this.get("value"));if(_27!=_28){this.validate(this.focused);}},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?_d("> *",this.srcNodeRef).map(function(_29){if(_29.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(_29.getAttribute("data-"+_6._scopeName+"-value")||_29.getAttribute("value")),label:String(_29.innerHTML),selected:_29.getAttribute("selected")||false,disabled:_29.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}this.dropDown=new dijit.form._SelectMenu({id:this.id+"_menu",parentWidget:this});_8.add(this.dropDown.domNode,this.baseClass+"Menu");},_getValueFromOpts:function(){var _2a=this.getOptions()||[];if(_2a.length){var opt=_2.filter(_2a,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{if(!this.placeHolder){_2a[0].selected=true;return _2a[0].value;}}}return "";},_onFocus:function(){if(this._hasBeenBlurred&&(!this._refocusing)){this.validate(true);}_11.prototype._onFocus.apply(this,arguments);},_onBlur:function(){this.displayMessage("");_13.prototype._onBlur.apply(this,arguments);this.validate(this.focused);},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _2b=this.dropDown,_2c=false;if(e&&this._opened){var c=_7.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_2c){if(_8.contains(t,"dijitPopup")){_2c=true;}else{t=t.parentNode;}}if(_2c){t=e.target;if(_2b.onItemClick){var _2d;while(t&&!(_2d=_e.byNode(t))){t=t.parentNode;}if(_2d&&_2d.onClick&&_2d.getParent){_2d.getParent().onItemClick(_2d,e);}}return;}}}if(this._opened){if(_2b.focus&&_2b.autoFocus!==false){this.focusSelectedItem();}}else{this.defer("focus");}if(_b("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(_5.hitch(this,"focusSelectedItem"),1);}}},_setReadOnlyAttr:function(_2e){this.inherited(arguments);if(this.dropDown){this.dropDown.set("readOnly",_2e);}},resize:function(){if(_14.isPercentage(this._styleWidth)){_9.set(this.containerNode,"width","");}this.inherited(arguments);},_resize:function(){if(this._deferResize()){return;}_9.set(this.containerNode,"width","");this.inherited(arguments);if(this.oneuiBaseNode.style.width){var _2f=this.oneuiBaseNode.style.width,_30=_7.getContentBox(this.oneuiBaseNode).w;if(_2f.indexOf("px")||dojo.isNumber(_2f)){_2f=parseInt(_2f);_30=(_2f<_30)?_2f:_30;}_9.set(this.containerNode,"width",_30-40+"px");}},focusSelectedItem:function(){var val=this.value,_31=false;if(!_5.isArray(val)){val=[val];}if(val&&val[0]){_31=_2.some(this._getChildren(),function(_32){var _33=val[0]===_32.option.value;if(_33){this.dropDown.focusChild(_32);}return _33;},this);}else{this.dropDown.focusFirstChild();}if(!_31){this.dropDown.focusFirstChild();}},_setPlaceHolderAttr:function(_34){this.placeHolder=_34;this.set("value","");}});});