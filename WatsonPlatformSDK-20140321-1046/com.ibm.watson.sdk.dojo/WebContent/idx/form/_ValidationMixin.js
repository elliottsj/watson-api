//>>built
define("idx/form/_ValidationMixin",["dojo/_base/declare","dojo/dom-style","dojo/i18n","dijit/_base/wai","idx/widget/HoverHelpTooltip","dojo/i18n!dijit/form/nls/validate"],function(_1,_2,_3,_4,_5,_6){return _1("idx.form._ValidationMixin",null,{instantValidate:false,required:false,invalidMessage:"$_unset_$",missingMessage:null,tooltipPosition:[],postMixInProperties:function(){this.inherited(arguments);this.missingMessage||(this.missingMessage=_6.missingMessage);this.invalidMessage=(this.invalidMessage=="$_unset_$")?_6.invalidMessage:this.invalidMessage;},buildRendering:function(){this.inherited(arguments);this.messageTooltip=new _5({connectId:[this.iconNode],label:this.message,position:this.tooltipPosition,forceFocus:false});},postCreate:function(){this.inherited(arguments);if(this.instantValidate){this.connect(this,this._event["focus"],function(){if(!this._refocusing){this.validate(true);}});this.connect(this,this._event["input"],function(){this.validate(true);});}else{this.connect(this,this._event["focus"],function(){if(this.message&&this._hasBeenBlurred&&(!this._refocusing)){this.displayMessage(this.message);}});}},refocus:function(){this._refocusing=true;this.focus();this._refocusing=false;},_isValid:function(_7){return this.isValid(_7)&&!(this.required&&this._isEmpty());},_isEmpty:function(){return false;},isValid:function(_8){return true;},getErrorMessage:function(_9){return (this.required&&this._isEmpty())?this.missingMessage:this.invalidMessage;},validate:function(_a){var _b,_c=this.disabled||this._isValid(_a);this.set("state",_c?"":"Error");_4.setWaiState(this.focusNode,"invalid",!_c);if(this.state=="Error"){_b=this.getErrorMessage(_a);}this._set("message",_b);this.displayMessage(_b);return _c;},displayMessage:function(_d,_e){if(_d){if(!this.messageTooltip){this.messageTooltip=new _5({connectId:[this.iconNode],label:_d,position:this.tooltipPosition,forceFocus:false});}else{this.messageTooltip.set("label",_d);}if(this.focused||_e){var _f=_2.get(this.iconNode,"visibility")=="hidden"?this.oneuiBaseNode:this.iconNode;this.messageTooltip.open(_f);}}else{this.messageTooltip&&this.messageTooltip.close();}},_onBlur:function(){this.inherited(arguments);this.displayMessage("");}});});