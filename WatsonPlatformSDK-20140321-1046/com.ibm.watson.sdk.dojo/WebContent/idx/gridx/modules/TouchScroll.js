//>>built
define("idx/gridx/modules/TouchScroll",["dojo/_base/declare","dojo/_base/window","dojo/_base/event","dojo/dom","dojo/dom-construct","dojo/touch","../core/_Module"],function(_1,_2,_3,_4,_5,_6,_7){return _1(_7,{name:"touchScroll",required:["vScroller","hScroller"],constructor:function(){var t=this,g=t.grid,bn=g.bodyNode;t.vWrapper=_5.create("div",{"class":"gridxTouchScrollVWrapper"},g.mainNode);t.vInner=_5.create("div",{"class":"gridxTouchScrollVBar"},t.vWrapper);t.hWrapper=_5.create("div",{"class":"gridxTouchScrollHWrapper"},g.mainNode);t.hInner=_5.create("div",{"class":"gridxTouchScrollHBar"},t.hWrapper);t.batchConnect([bn,_6.press,"_start"],[bn,_6.move,"_scroll"],[_2.doc,_6.release,"_end"]);},_start:function(e){var t=this,g=t.grid,_8=g.vScrollerNode;hScrollerNode=g.hScrollerNode;if((_8.style.display!="none"&&_8.offsetWidth==1)||(hScrollerNode.style.display!="none"&&hScrollerNode.offsetHeight==1)){var _9=t.vInner.style,_a=t.hInner.style,bn=g.bodyNode,h=bn.clientHeight,w=bn.clientWidth,sh=_8.scrollHeight,sw=hScrollerNode.scrollWidth;t._last=e;_4.setSelectable(g.domNode,false);t.vWrapper.style.height=(h-4)+"px";t.hWrapper.style.width=(w-4)+"px";_9.height=h*(h-4)/sh+"px";_a.width=w*(w-4)/sw+"px";_9.opacity=1;_a.opacity=1;t._vr=(h-4)/sh;t._hr=(w-4)/sw;_3.stop(e);}},_scroll:function(e){var t=this,g=t.grid,hn=g.hScrollerNode,vn=g.vScrollerNode,_b=t._last;if(_b){vn.scrollTop+=_b.clientY-e.clientY;hn.scrollLeft+=_b.clientX-e.clientX;t.vInner.style.top=vn.scrollTop*t._vr+"px";t.hInner.style.left=hn.scrollLeft*t._hr+"px";t._last=e;_3.stop(e);}},_end:function(e){var t=this;if(t._last){t._last=null;_4.setSelectable(t.grid.domNode,true);t.vInner.style.opacity=0;t.hInner.style.opacity=0;_3.stop(e);}}});});