//>>built
define("idx/gridx/support/exporter/toCSV",["./exporter"],function(_1){function _2(_3,_4){return _1(_3,_2.writer,_4||{});};_2.writer={initialize:function(_5){this._s=_5.separator||",";this._n=_5.newLine||"\r\n";this._lines=[];},beforeHeader:function(){this._cells=[];},handleHeaderCell:function(_6){this._cells.push(_6.column.name());},afterHeader:function(){this._lines.push(this._cells.join(this._s));},beforeRow:function(){this._cells=[];},handleCell:function(_7){var _8=String(_7.data).replace(/"/g,"\"\"");if(_8.indexOf(this._s)>=0||_8.search(/[" \t\r\n]/)>=0){_8="\""+_8+"\"";}this._cells.push(_8);},afterRow:function(){this._lines.push(this._cells.join(this._s));},getResult:function(){return this._lines.join(this._n);}};return _2;});