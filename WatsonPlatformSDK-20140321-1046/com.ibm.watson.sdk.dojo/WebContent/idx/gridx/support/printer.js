//>>built
define("idx/gridx/support/printer",["./exporter/toTable","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/xhr","dojo/_base/array","dojo/_base/sniff","dojo/_base/window"],function(_1,_2,_3,_4,_5,_6,_7,_8){var _9,_a=_3.hitch;function _b(_c){var d=new _4(),_d=_a(d,d.callback);if(_c){_5.get({url:_c}).then(_d,function(){console.warn("Failed to load resource: ",_c);_d("");});}else{_d("");}return d;};function _e(_f){var w,_10=function(w){var doc=w.document;doc.open();doc.write(_f);doc.close();};if(!window.print){console.warn("Print function is not available");return;}else{if(_7("chrome")||_7("opera")){w=window.open("javascript:''","","status=0,menubar=0,location=0,toolbar=0,width=1,height=1,resizable=0,scrollbars=0");_10(w);w.print();w.close();}else{if(!_9){_9=_8.doc.createElement("iframe");_9.frameBorder=0;var s=_9.style;s.position="absolute";s.width=s.height="1px";s.right=s.bottom=0;s.border="none";s.overflow="hidden";if(!_7("ie")){s.visibility="hidden";}_8.body().appendChild(_9);}w=_9.contentWindow;_10(w);w.focus();w.print();}}};function _11(_12,_13,_14,_15){return ["<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"><html ",_12.isLeftToRight()?"":"dir=\"rtl\"","><head><title>",_13.title||"","</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></meta><style type=\"text/css\">",_14,"</style><style type=\"text/css\">",_13.style||"","</style>",_13.customHead||"","</head><body>",_13.description||"",_15,"</body></html>"].join("");};function _16(_17,_18){return _16.toHTML(_17,_18).then(_e);};_16.toHTML=function(_19,_1a){var d=new _4();_b(_1a.styleSrc).then(function(_1b){_1(_19,_1a).then(function(str){d.callback(_11(_19,_1a,_1b,str));},_a(d,d.errback),_a(d,d.progress));});return d;};return _16;});