//>>built
define("idx/layout/BreadcrumbController",["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dijit/registry","dojo/_base/array","dojo/dom-construct","dojo/dom-attr","dijit/layout/StackController"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _a=_9.StackButton;var _b=_1("idx.layout._Breadcrumb",_a,{baseClass:"idxBreadcrumb",_clicked:function(_c){if(!this.checked){this.inherited("_clicked",arguments);}}});var _d=_b;var _e=_1("idx.layout.BreadcrumbController",_9,{buttonWidget:_d,idxBaseClass:"idxBreadcrumbController",constructor:function(_f,_10){},postCreate:function(){this.inherited(arguments);_8.set(this.domNode,"id",this.id);},breadcrumbSeparator:"&gt;",buildRendering:function(){this.inherited(arguments);_2.add(this.domNode,this.idxBaseClass);},onStartup:function(_11){_6.forEach(_11.children,this.onAddChild,this);},resize:function(_12,_13){this.inherited(arguments);if(_12){_3.getMarginBox(this.domNode,_12);}},onAddChild:function(_14,_15){var _16=!this._currentChild||_15==0;var _17=_15;if(_15){if(typeof _15=="number"){_17=_15*2-1;}}else{_17=this.containerNode.children.length;}this.inherited(arguments,[_14,_17]);if(!_16){var _18=this.containerNode;_7.place("<span class='idxBreadcrumbSeparator'>"+this.breadcrumbSeparator+"</span>",_18,_17);}var _19=_5.byId(this.containerId);var _1a=_19.getChildren();if(this.containerNode.children.length>=(_1a.length*2-1)&&_17>=this.containerNode.children.length-2){var _1b=this.pane2button[_14.id];_1b.set("checked",true);try{_5.byId(this.containerId).selectChild(_14);}catch(e){}}},onRemoveChild:function(_1c){var _1d=this.containerNode;var _1e=_5.byId(this.containerId);var _1f=this.pane2button[_1c.id];if(_1f&&_1f.domNode){var _20=_1f.domNode.previousSibling;if(_20&&_20.parentNode){_20.parentNode.removeChild(_20);}}this.inherited(arguments);},onSelectChild:function(_21){if(!_21||!this.selectionConfirmed(_21)){return;}var _22=_5.byId(this.containerId);var _23=_22.getIndexOfChild(_21);var _24=_22.getChildren();for(var i=_23+1;i<_24.length;i++){var _25=_24[i];_22.removeChild(_25);_25.destroy();}this.inherited(arguments);},selectionConfirmed:function(_26){return true;},resize:function(_27,_28){var cn=this.domNode;var mb=_28||{};_4.mixin(mb,_27||{});if(!("h" in mb)||!("w" in mb)){mb=_4.mixin(_3.getMarginBox(cn),mb);}var _29=0;for(var _2a in this.pane2button){var dm=this.pane2button[_2a].domNode;if(dm){_29+=_3.getMarginBox(dm).w;}}}});_e.Breadcrumb=_b;return _e;});