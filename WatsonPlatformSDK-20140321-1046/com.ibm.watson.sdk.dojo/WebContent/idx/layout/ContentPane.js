//>>built
define("idx/layout/ContentPane",["dojo/_base/declare","dojo/_base/lang","dojo/when","dojo/ready","dojo/Deferred","dojo/_base/window","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojox/layout/ContentPane","dojox/html/_base","../util","../string"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){var _f=function(_10){var _11=this;var _12=_10.replace(/\./g,"/");require([_12],function(_13){_11._loadContent();});};var _14=_1("idx.layout._ContentSetter",[_c._ContentSetter],{contentPane:null,fakeContent:false,content:null,handleParse:function(){if(this.parseContent){this._parse();}return this.node;},scriptsExecuted:function(){var cp=this.contentPane;var _15=this;cp._handleRequires(function(_16){_4(function(){cp._preParse();_15.handleParse();_3(cp.parseDeferred,function(){cp._postParse();_15.scriptsDeferred.resolve();});});});},onEnd:function(){var _17=this._code,_18=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_a.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_18&&_18.length){this._renderStyles(_18);}if(this.executeScripts&&_17){this.scriptsDeferred=new _5();_17=_17+"\n"+this.scriptHookReplacement+"._scriptsExecuted();";if(this.cleanContent){_17=_17.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){_17=_17.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_c.evalInGlobal(_17,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}return this.scriptsDeferred.promise;}else{var d=new _5();var _19=this;_4(function(){_19.contentPane._deferResolve=false;_19.contentPane._preParse();_19.handleParse();_3(_19.parseDeferred,function(){_19.contentPane._postParse();d.resolve();});});return d.promise;}},tearDown:function(){delete this.scriptsDeferred;this.inherited(arguments);}});var _1a=_1("idx.layout.ContentPane",[dojox.layout.ContentPane],{contentClass:"",contentArgs:"",inferLabel:true,label:"",scriptHasHooks:true,_scriptsExecuted:function(){if(this._contentSetter){this._contentSetter.scriptsExecuted();}},_recordDependency:function(_1b){if(!this._requires){this._requires=["dojo/parser"];}if(!this._modules){this._modules={"dojo/parser":null};}if(!(_1b in this._modules)){this._requires.push(_1b);this._modules[_1b]=null;}},require:function(_1c){var _1d=_1c.replace(/\./g,"/");this._recordDependency(_1d);},requireLocalization:function(_1e,_1f){var _20="dojo/i18n!"+_1e.replace(/\./g,"/")+"/nls/"+_1f;this._recordDependency(_20);},registerPreParse:function(_21){if(!_21){return;}if(!this._preParses){this._preParses=[];}this._preParses.push(_21);},_preParse:function(_22){if(this._preParses){for(var _23=0;_23<this._preParses.length;_23++){var _24=this._preParses[_23];_24.call(null,this._modules);}delete this._preParses;this._preParses=null;}},registerPostParse:function(_25){if(!_25){return;}if(!this._postParses){this._postParses=[];}this._postParses.push(_25);},_postParse:function(_26){if(this._postParses){for(var _27=0;_27<this._postParses.length;_27++){var _28=this._postParses[_27];_28.call(null,this._modules);}delete this._postParses;this._postParses=null;}this._deferResolve=false;if(this._requires){delete this._requires;}if(this._modules){delete this._modules;}this._requires=null;this._modules=null;},_handleRequires:function(_29){if(!this._modules){this._modules={"dojo/parser":null};}if(!this._requires){this._requires=["dojo/parser"];}var _2a=this;require(this._requires,function(){for(var _2b=0;_2b<_2a._requires.length;_2b++){_2a._modules[_2a._requires[_2b]]=arguments[_2b];}if(_29){_29.call(null,_2a._modules);}});},_onLoadHandler:function(_2c){if(this._deferResolve){return;}if(this._resolved){return;}this._resolved=true;this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_9.add(this.domNode,"idxContentPane");},_setInferLabelAttr:function(_2d){var _2e=this.inferLabel;this.inferLabel=_2d;if(_2d==_2e){return;}if(this.value){var _2f=_e.nullTrim(this.title);if(_2f&&!this._explicitLabel){this._inferLabel();}}else{var _30=_e.nullTrim(this.label);if((_30==_2f)&&!this._explicitLabel){this.set("label","");}}},_setTitleAttr:function(_31){this.title=_31;if(this.titleNode){this.titleNode.innerHTML=this.title;}var _32=_e.nullTrim(_31);if(!this.inferLabel){return;}if(this._explicitLabel){return;}if(!_32){return;}this._inferLabel();},_inferLabel:function(){this._inferringLabel=true;this.set("label",this.title);this._inferringLabel=false;},_updateLabel:function(_33,_34){if((_33)&&(!_34)){var _35=_8.get(this.domNode,"aria-label");if(_35==_33){_8.remove(this.domNode,"aria-label");}}else{if((!_33)&&(_34)){var _36=_e.nullTrim(_8.get(this.domNode,"aria-labelledby"));var _37=_e.nullTrim(_8.get(this.domNode,"role"));var _35=_e.nullTrim(_8.get(this.domNode,"aria-label"));if(_37&&!_36&&!_35){_8.set(this.domNode,"aria-label",_34);}}else{var _36=_e.nullTrim(_8.get(this.domNode,"aria-labelledby"));var _37=_e.nullTrim(_8.get(this.domNode,"role"));var _35=_e.nullTrim(_8.get(this.domNode,"aria-label"));if(_37&&!_36&&(this._explicitLabel||(_35==_33))){_8.set(this.domNode,"aria-label",_34);}}}},_setLabelAttr:function(_38){var _39=_e.nullTrim(_38);if(this._inferringLabel&&(_38===this.title)){this._explicitLabel=false;}else{this._explicitLabel=(_39!=null);}var _3a=_e.nullTrim(this.label);this.label=_38;if(_3a==_39){return;}this._updateLabel(_3a,_39);},_setContent:function(_3b,_3c){if(!this.href){this.inherited("_setContent",arguments);return;}var _3d=this;var _3e=this._contentSetter;if(!(_3e&&_3e instanceof _14)){_3e=this._contentSetter=new _14({contentPane:_3d,node:this.containerNode,_onError:_2.hitch(this,this._onError),onContentError:_2.hitch(this,function(e){var _3f=this.onContentError(e);try{this.containerNode.innerHTML=_3f;}catch(e){}})});}_3e.set("fakeContent",_3c);_3e.set("content",_3b);this._deferResolve=true;this._resolved=false;this.inherited("_setContent",arguments);},_onShow:function(){this.inherited(arguments);if(this._contentWidget){if(this._contentWidget._onShow){this._contentWidget._onShow();}}else{if(this.contentClass){var t=this;setTimeout(function(){_f.apply(t,[t.contentClass]);},0);}}},_loadContent:function(){var _40=_2.getObject(this.contentClass);var _41=this.contentArgs;if(_2.isString(_41)){var _42="{"+_41+"}";_41=_d.fromJson(_42);}_41.container=this;this._contentWidget=new _40(_41);if(this.contentCreate&&typeof (this.contentCreate)=="function"){this.contentCreate(this._contentWidget);}_a.place(this._contentWidget.domNode,this.domNode);this._contentWidget.startup();this._layoutChildren();}});return _1a;});