//>>built
require({cache:{"url:idx/layout/templates/HeaderPane.html":"<div class=\"idxHeaderPane\" role=\"region\" wairole=\"region\" aria-labelledby=\"${id}_Title\"\r\n><div class=\"idxHeaderFrame\" data-dojo-attach-point=\"_frameNode\"\r\n><div class=\"idxHeaderPaneHeader\" data-dojo-attach-point=\"_headerNode\"\r\n><div class=\"idxHeaderPaneA11y\"\r\n><span id=\"${id}_contentTitle\" data-dojo-attach-point=\"_contentTitleNode\"></span\r\n></div><div class=\"idxHeaderPaneTitleBar\"  data-dojo-attach-point=\"_headerTitleNode\"\r\n><div data-dojo-attach-point=\"_leadingTitleNode\"\r\n></div><div data-dojo-attach-point=\"_trailingTitleNode\"\r\n></div></div><div class=\"idxHeaderPaneSpacer\" data-dojo-attach-point=\"_headerSpacerNode\"\r\n></div><div class=\"idxHeaderPaneActions\" data-dojo-attach-point=\"_headerActionsNode\"\r\n><div data-dojo-attach-point=\"_leadingActionsNode\"\r\n></div><div data-dojo-attach-point=\"_trailingActionsNode\"\r\n></div></div></div><div class=\"idxHeaderPaneContent\" data-dojo-attach-point=\"containerNode\" tabindex=\"${tabIndex}\" \r\n\t\t\t\t\t\trole=\"region\" wairole=\"region\" aria-labelledby=\"${id}_contentTitle\"\r\n></div></div></div>\r\n"}});define("idx/layout/HeaderPane",["dojo/_base/declare","idx/layout/ContentPane","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_CssStateMixin","dojo/sniff","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-class","dijit/_Widget","dojo/_base/array","dojo/string","dojo/query","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/_base/event","dijit/registry","dijit/form/Button","../string","../util","../border/BorderLayout","../widget/_MaximizeMixin","../resources","dojo/text!./templates/HeaderPane.html","idx/form/buttons","dojo/NodeList-dom","dijit/layout/BorderContainer","dojo/i18n!../nls/base","dojo/i18n!./nls/base","dojo/i18n!./nls/HeaderPane"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a){return _1("idx.layout.HeaderPane",[_2,_3,_4,_5],{tabIndex:0,autoHeight:false,autoHideActions:false,closable:false,refreshable:false,resizable:false,resizeDuration:0,helpURL:"",defaultActionDisplay:"",contentFocus:true,baseClass:"idxHeaderPane",templateString:_1a,constructor:function(_1b,_1c){this._majorActions=[];this._minorActions=[];this._titleActions=[];this._built=false;this._headerPaneStarted=false;this._maximizeMixin=new _18({inPlace:true});},destroy:function(){this._destroyDefaultCloseButton();this._destroyDefaultRefreshButton();this._destroyDefaultResizeButton();this._destroyDefaultHelpButton();if(this._actionsLookup){for(var _1d in this._actionsLookup){var _1e=this._actionsLookup[_1d];_c.forEach(_1e,function(_1f){if(_1f.handle){_1f.handle.remove();delete _1f.handle;}});}}_c.forEach(this.getTitleActionChildren(),function(_20){_20.destroyRecursive();});_c.forEach(this.getMajorActionChildren(),function(_21){_21.destroyRecursive();});_c.forEach(this.getMinorActionChildren(),function(_22){_22.destroyRecursive();});this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);},_setupNodes:function(){if(!this._built){return;}if(this.isLeftToRight()){this._leftTitleNode=this._leadingTitleNode;this._rightTitleNode=this._trailingTitleNode;this._leftActionsNode=this._leadingActionsNode;this._rightActionsNode=this._trailingActionsNode;this._titleNode=this._leftTitleNode;this._titleActionsNode=this._rightTitleNode;this._majorActionsNode=this._leftActionsNode;this._minorActionsNode=this._rightActionsNode;}else{this._leftTitleNode=this._trailingTitleNode;this._rightTitleNode=this._leadingTitleNode;this._leftActionsNode=this._trailingActionsNode;this._rightActionsNode=this._leadingActionsNode;this._titleNode=this._rightTitleNode;this._titleActionsNode=this._leftTitleNode;this._majorActionsNode=this._rightActionsNode;this._minorActionsNode=this._leftActionsNode;}_a.add(this._leftTitleNode,this.baseClass+"TitleLeft");_a.add(this._rightTitleNode,this.baseClass+"TitleRight");_a.add(this._leftActionsNode,this.baseClass+"ActionsLeft");_a.add(this._rightActionsNode,this.baseClass+"ActionsRight");this._regionLookup={body:this.containerNode,titleActions:this._titleActionsNode,majorActions:this._majorActionsNode,minorActions:this._minorActionsNode};this._actionsLookup={titleActions:this._titleActions,majorActions:this._majorActions,minorActions:this._minorActions};_9.set(this._titleNode,{"tabindex":""+this.tabIndex,"id":this.id+"_Title"});_a.remove(this._titleActionsNode,this.baseClass+"TitleText");_a.remove(this._titleNode,this.baseClass+"TitleActions");_a.remove(this._majorActionsNode,this.baseClass+"MinorActions");_a.remove(this._minorActionsNode,this.baseClass+"MajorActions");_a.add(this._titleNode,this.baseClass+"TitleText");_a.add(this._titleActionsNode,this.baseClass+"TitleActions");_a.add(this._majorActionsNode,this.baseClass+"MajorActions");_a.add(this._minorActionsNode,this.baseClass+"MinorActions");this._titleNode.innerHTML=this.title;},_setTitleAttr:function(_23){this.title=_23;this.inherited(arguments);if(!this._built){return;}this._titleNode.innerHTML=this.title;var _24=_19.get("contentTitleTemplate","idx/layout/HeaderPane");if(!_15.nullTrim(_24)){_24="${title}";}var _25=_d.substitute(_24,{title:this.title});this._contentTitleNode.innerHTML=_25;this.resize();},buildRendering:function(){this.inherited(arguments);this._built=true;this._updateActionHiding();this._setupNodes();this.own(_8.after(this._maximizeMixin,"_restore",_7.hitch(this,this._onRestore),true));},_setAutoHideActionsAttr:function(_26){this.autoHideActions=_26;this._updateActionHiding();},_updateActionHiding:function(){if(!this._built){return;}if(this.autoHideActions){_a.add(this.domNode,this.baseClass+"AutoHide");}else{_a.remove(this.domNode,this.baseClass+"AutoHide");}},setOptimalSize:function(){this.borderLayout.setOptimalSize();},_setDefaultActionDisplayAttr:function(_27){this.defaultActionDisplay=_27;if(this._closeButton){this._closeButton.set("displayMode",this.defaultActionDisplay);}if(this._refreshButton){this._refreshButton.set("displayMode",this.defaultActionDisplay);}if(this._resizeButton){this._resizeButton.set("displayMode",this.defaultActionDisplay);}if(this._helpButton){this._helpButton.set("displayMode",this.defaultActionDisplay);}this.resize();},_setClosableAttr:function(_28){var _29=this.closable;this.closable=_28;if(!this._idxStarted){return;}if(_29==this.closable){return;}if(this.closable){this._createDefaultCloseButton();}else{this._destroyDefaultCloseButton();}},_setRefreshableAttr:function(_2a){var _2b=this.refreshable;this.refreshable=_2a;if(!this._idxStarted){return;}if(_2b==this.refreshable){return;}if(this.refreshable){this._createDefaultRefreshButton();}else{this._destroyDefaultRefreshButton();}},_setResizableAttr:function(_2c){var _2d=this.resizable;this.resizable=_2c;if(!this._idxStarted){return;}if(_2d==this.resizable){return;}if(this.resizable){this._createDefaultResizeButton();}else{this._destroyDefaultResizeButton();if(this._maximized){this._restorePane();}}},_setResizeDurationAttr:function(_2e){this.resizeDuration=_2e;this._setupMaximizeAnimation();},_setupMaximizeAnimation:function(){if(this.resizeDuration>0){this._maximizeMixin.useAnimation=true;this._maximizeMixin.duration=this.resizeDuration;}else{this._maximizeMixin.useAnimation=false;this._maximizeMixin.duration=0;}},_setHelpURLAttr:function(url){var _2f=this.helpURL;this.helpURL=url;if(!this._idxStarted){return;}var _30=(_15.nullTrim(_2f)?false:true);var _31=(_15.nullTrim(this.helpURL)?false:true);if(_30==_31){return;}if(!_31){this._createDefaultHelpButton();}else{this._destroyDefaultHelpButton();}},_createDefaultCloseButton:function(){if(this._closeButton){return;}this._closeButton=new _14({buttonType:"close",placement:"toolbar",region:"titleActions",displayMode:this.defaultActionDisplay});if(this._closeHandle){this._closeHandle.remove();delete this._closeHandle;}this._closeHandle=_8.after(this._closeButton,"onClick",_7.hitch(this,"_closePane"),true);this.addChild(this._closeButton);if(this._idxStarted){this._closeButton.startup();}},_destroyDefaultCloseButton:function(){if(this._closeHandle){this._closeHandle.remove();delete this._closeHandle;}if(this._closeButton){this.removeChild(this._closeButton);this._closeButton.destroyRecursive();delete this._closeButton;}},_createDefaultRefreshButton:function(){if(this._refreshButton){return;}this._refreshButton=new _14({buttonType:"refresh",placement:"toolbar",region:"titleActions",displayMode:this.defaultActionDisplay});if(this._refreshHandle){this._refreshHandle.remove();delete this._refreshHandle;}this._refreshHandle=_8.after(this._refreshButton,"onClick",_7.hitch(this,"refreshPane"),true);this.addChild(this._refreshButton);if(this._idxStarted){this._refreshButton.startup();}},_destroyDefaultRefreshButton:function(){if(this._refreshHandle){this._refreshHandle.remove();delete this._refreshHandle;}if(this._refreshButton){this.removeChild(this._refreshButton);this._refreshButton.destroyRecursive();delete this._refreshButton;}},_createDefaultResizeButton:function(){if(this._resizeButton){return;}this._resizeButton=new _14({buttonType:"maxRestore",placement:"toolbar",region:"titleActions",displayMode:this.defaultActionDisplay});if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}this._resizeHandle=_8.after(this._resizeButton,"onButtonTypeClick",_7.hitch(this,"_resizePane"),true);this.addChild(this._resizeButton);if(this._idxStarted){this._resizeButton.startup();}},_destroyDefaultResizeButton:function(){if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}if(this._resizeButton){this.removeChild(this._resizeButton);this._resizeButton.destroyRecursive();delete this._resizeButton;}},_createDefaultHelpButton:function(){if(this._helpButton){return;}this._helpButton=new _14({buttonType:"help",placement:"toolbar",region:"titleActions",displayMode:this.defaultActionDisplay});if(this._helpHandle){this._helpHandle.remove();delete this._helpHandle;}this._helpHandle=_8.after(this._helpButton,"onClick",_7.hitch(this,"_displayHelp"),true);this.addChild(this._helpButton);if(this._idxStarted){this._helpButton.startup();}},_destroyDefaultHelpButton:function(){if(this._helpHandle){this._helpHandle.remove();delete this._helpHandle;}if(this._helpButton){this.removeChild(this._helpButton);this._helpButton.destroyRecursive();delete this._helpButton;}},postCreate:function(){this.inherited(arguments);},startup:function(){if(this._idxStarted){this.inherited("startup",arguments);return;}this._idxStarted=true;this.borderLayout=new _17({frameNode:this._frameNode,topNode:this._headerNode,bottomNode:null,leftNode:null,rightNode:null,centerNode:this.containerNode,design:"headline",leftToRight:this.isLeftToRight()});if(!_6("ie")){_10.set(this.containerNode,"margin",_6("safari")?"3px":"1px");}this.inherited("startup",arguments);this._trackMouseState(this._headerNode,"idxHeaderPaneHeader");if(this._href){this.set("href",this._href);}if(this._isShown()||this.preload){this._onShow();}_c.forEach(this.getChildren(),this._setupChild,this);if(this.refreshable){this._createDefaultRefreshButton();}if(_15.nullTrim(this.helpURL)){this._createDefaultHelpButton();}if(this.resizable){this._createDefaultResizeButton();}if(this.closable){this._createDefaultCloseButton();}this._updateActionBarVisibility();this.resize();if(this.autoHeight){this.borderLayout.setOptimalHeight();}},_removeDefaultButtons:function(_32){if(this._restoringDefaultButtons){return false;}var _33=false;if(this._closeButton){if(_32!=this._closeButton){this.removeChild(this._closeButton);_33=true;}}if(this._resizeButton){if(_32!=this._resizeButton){this.removeChild(this._resizeButton);_33=true;}}if(this._helpButton){if(_32!=this._helpButton){this.removeChild(this._helpButton);_33=true;}}if(this._refreshButton){if(_32!=this._refreshButton){this.removeChild(this._refreshButton);_33=true;}}return _33;},_restoreDefaultButtons:function(){if(this._restoringDefaultButtons){return;}this._restoringDefaultButtons=true;if(this._refreshButton){this.addChild(this._refreshButton);}if(this._helpButton){this.addChild(this._helpButton);}if(this._resizeButton){this.addChild(this._resizeButton);}if(this._closeButton){this.addChild(this._closeButton);}this._restoringDefaultButtons=false;},layout:function(){this._checkIfSingleChild();this.borderLayout.layout();this.inherited(arguments);},addChild:function(_34,_35){var _36=this._removeDefaultButtons(_34);if((!this._isDefaultButton(_34))||(!_36)){this.inherited(arguments);}if(_36){this._restoreDefaultButtons(_34);}this.resize();},_setContentFocusAttr:function(_37){this.contentFocus=_37;if(this.contentFocus){_9.set(this.containerNode,"tabIndex",""+this.tabIndex);}else{_9.set(this.containerNode,"tabindex","-1");}},_isDefaultButton:function(_38){return ((_38==this._closeButton)||(_38==this._resizeButton)||(_38==this._refreshButton)||(_38==this._helpButton));},removeChild:function(_39){var _3a=0;var _3b=-1;var _3c=null;for(_3a=0;_3a<this._majorActions.length;_3a++){if(_39===this._majorActions[_3a].widget){_3b=_3a;_3c=this._majorActions;break;}}if(_3b<0){for(_3a=0;_3a<this._minorActions.length;_3a++){if(_39===this._minorActions[_3a].widget){_3b=_3a;_3c=this._minorActions;break;}}}if(_3b<0){for(_3a=0;_3a<this._titleActions.length;_3a++){if(_39===this._titleActions[_3a].widget){_3b=_3a;_3c=this._titleActions;break;}}}if(_3b>=0){var _3d=_3c[_3b].handle;if(_3d){_3d.remove();delete _3c[_3b].handle;}_3c.splice(_3b,1);}this.inherited(arguments);if((_39)&&(_39==this._enhancedTitle)){this._internalSet=true;this.set("title","");this._internalSet=false;}this.resize();},_setupChild:function(_3e){this.inherited(arguments);var _3f=_15.nullTrim(_3e.get("region"));var _40=null;if(_3f=="title"){this.set("title",_3e);return;}if((_3f==null)||(_3f.length==0)){_3f="body";}var _41=this._regionLookup[_3f];var _40=this._actionsLookup[_3f];if(_41==null){_41=this._regionLookup["body"];_40=null;}if(_41==this.containerNode){return;}var _42=new _e.NodeList(_3e.domNode);_42.orphan();_f.place(_3e.domNode,_41,"last");var _43=null;if(_3e.onResize){_43=_8.after(_3e,"onResize",_7.hitch(this,"resize"),true);}_40.push({widget:_3e,handle:_43});this._updateActionBarVisibility();},_updateActionBarVisibility:function(){if((this._majorActions.length+this._minorActions.length)>0){_a.remove(this._headerActionsNode,this.baseClass+"ActionsHidden");_a.remove(this._headerSpacerNode,this.baseClass+"SpacerHidden");}else{_a.add(this._headerActionsNode,this.baseClass+"ActionsHidden");_a.add(this._headerSpacerNode,this.baseClass+"SpacerHidden");}},resize:function(_44,_45){if(!this._idxStarted){return;}this.inherited(arguments);var _46=_16.getStaticSize(this._leftTitleNode);var _47=_16.getStaticSize(this._rightTitleNode);var _48=_16.getStaticSize(this._leftActionsNode);var _49=_16.getStaticSize(this._rightActionsNode);var _4a=((_46.h>_47.h)?_46.h:_47.h);var _4b=((_48.h>_49.h)?_48.h:_49.h);_10.set(this._leftTitleNode,{width:_46.w+"px",height:_46.h+"px"});_10.set(this._rightTitleNode,{width:_47.w+"px",height:_47.h+"px"});_10.set(this._leftActionsNode,{width:_48.w+"px",height:_48.h+"px"});_10.set(this._rightActionsNode,{width:_49.w+"px",height:_49.h+"px"});_10.set(this._headerTitleNode,{height:_4a+"px"});_10.set(this._headerActionsNode,{height:_4b+"px"});this.borderLayout.layout();if(this._singleChild&&this._singleChild.resize){var cb=_11.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});var _4c=this.getChildren()[0];_a.add(_4c.domNode,this.baseClass+"-onlyChild");}},getTitleActionChildren:function(){var _4d=[];for(var _4e=0;_4e<this._titleActions.length;_4e++){var _4f=this._titleActions[_4e];_4d.push(_4f.widget);}return _4d;},getMajorActionChildren:function(){var _50=[];for(var _51=0;_51<this._majorActions.length;_51++){var _52=this._majorActions[_51];_50.push(_52.widget);}return _50;},getMinorActionChildren:function(){var _53=[];for(var _54=0;_54<this._minorActions.length;_54++){var _55=this._minorActions[_54];_53.push(_55.widget);}return _53;},_onShow:function(){if(!this._idxStarted){return;}this.inherited(arguments);},_setHrefAttr:function(_56){if(!this._idxStarted){this._href=_56;return;}else{this._href=null;}if(_56==this.href){return;}this.inherited(arguments);},set:function(_57,_58){if((!this._internalSet)&&(_57=="title")){this._setTitleObject(_58);}else{this.inherited(arguments);}},get:function(_59){if((!this._internalGet)&&(_59=="title")&&(this._enhancedTitle)){return this._enhancedTitle;}else{return this.inherited(arguments);}},_setTitleObject:function(_5a){if(this._enahncedTitle){this.removeChild(this._enhancedTitle);if(this._enhancedTitle.destroy){this._enhancedTitle.destroy();}}this._titleNode.innerHTML="";if(_16.typeOfObject(_5a)!="object"){this._internalSet=true;this.set("title",""+_5a);this._internalSet=false;this._enhancedTitle=null;return;}this._enhancedTitle=_5a;var _5b=null;if(_5a instanceof _b){_5b=_5a.domNode;}else{_5b=_5a;}var _5c=new _e.NodeList(_5b);_5c.orphan();_f.place(_5b,this._titleNode,"last");this.resize();},_closePane:function(e){if(e){_12.stop(e);}this.onClose();this.destroy();},onRefresh:function(_5d,_5e,_5f){},refreshPane:function(e){if(e){_12.stop(e);}var _60=this.get("href");if(!_15.nullTrim(_60)){this.onRefresh(this);return;}var _61=_11.getContentBox(this.containerNode);_10.set(this.containerNode,{height:""+_61.h+"px"});this._refreshing=true;var _62=this.refresh();this.onRefresh(this,_60,_62);},onDownloadEnd:function(){this.inherited(arguments);this._refreshing=false;_10.set(this.containerNode,{height:null});this.resize();if(this.autoHeight){this.borderLayout.setOptimalHeight();}},onDownloadError:function(){this.inherited(arguments);this._refreshing=false;_10.set(this.containerNode,{height:null});this.resize();if(this.autoHeight){this.borderLayout.setOptimalHeight();}},_resizePane:function(e,_63){if(e){_12.stop(e);}switch(_63){case "maximize":this.maximizePane();break;case "restore":this.restorePane();break;}return false;},maximizePane:function(_64){if(!_64){_64=this.domNode.parentNode;}if(!_64){return;}var _65=this.domNode.style.position;this._restorePosition=(_15.nullTrim(_65)?_65:"");switch(_65){case "absolute":break;default:_10.set(this.domNode,{position:"relative"});}this._maximizeMixin.maximize(this.domNode,_64);this._maximized=true;if(this._resizeButton){this._resizeButton.set("hovering",false);this._resizeButton.set("active",false);}this.onMaximize();},restorePane:function(){if(!this._maximized){return;}this._maximizeMixin.restore();},_onRestore:function(){_10.set(this.domNode,{position:this._restorePosition});this._maximized=false;if(this._resizeButton){this._resizeButton.set("hovering",false);this._resizeButton.set("active",false);}this.onRestore();},onMaximize:function(){},onRestore:function(){},_displayHelp:function(e){if(e){_12.stop(e);}if(_15.nullTrim(this.helpURL)){if((!this._helpWindow)||(this._helpWindow.closed)){this._openNewHelpWindow();}else{try{this._helpWindow.location.assign(this.helpURL);this._helpWindow.focus();}catch(err){this._openNewHelpWindow();}}}},_openNewHelpWindow:function(){if(!_15.nullTrim(this.helpURL)){return;}this._helpWindow=window.open(this.helpURL,"_blank");if((this.helpURL.indexOf("http://")==0)||(this.helpURL.indexOf("https://")==0)){this._helpWindow=null;}}});});