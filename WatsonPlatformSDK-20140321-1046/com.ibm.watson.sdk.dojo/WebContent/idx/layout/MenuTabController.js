//>>built
define("idx/layout/MenuTabController",["dojo","dijit/registry","dijit/layout/ScrollingTabController"],function(_1,_2,_3){var _4=_1.declare("idx.layout.MenuTabController",[_3],{constructor:function(){this.buttonWidget="idx.layout._PopupTabButton";this._watches={};this._connects={};},onAddChild:function(_5,_6){this.inherited(arguments);var _7=_5.controlButton,me=this,_8=function(_9,_a,_b){if(_a){me._unbindPopup(_5,_7.domNode,_7.dropdownNode,_a);}if(_b){me._bindPopup(_5,_7.domNode,_7.dropdownNode,_b);_7.set("arrowButton",true);}else{_7.set("arrowButton",false);}};_8(null,null,_5.popup&&_7.dropdownNode&&_2.byId(_5.popup));this._watches[_5.id]=_5.watch("popup",this,_8);this._connects[_5.id]=this.connect(_7,"onClickArrowButton",_1.hitch(this,"onArrowButtonClick",_5,_7));},onRemoveChild:function(_c){this.inherited(arguments);if(this._connects[_c.id]){this.disconnect(this._connects[_c.id]);delete this._connects[_c.id];}if(this._watches[_c.id]){this._watches[_c.id].unwatch();delete this._watches[_c.id];}},_bindPopup:function(_d,_e,_f,_10){if(typeof _10.bindDomNode=="function"){if(_10._openMyself){_10.leftClickToOpen=false;_10.bindDomNode(_e);}else{_10.bindDomNode(_e,{leftClickToOpen:false});_10.bindDomNode(_f,{leftClickToOpen:true});}}},_unbindPopup:function(_11,_12,_13,_14){_14.unbindDomNode(_13);},onArrowButtonClick:function(_15,_16){if(_15.popup&&_15.popup._openMyself){_15.popup._openMyself({target:_16.dropdownNode});}}});_1.declare("idx.layout._PopupTabButton",[dijit.layout._TabButton],{templateString:"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">"+"<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>"+"<span data-dojo-attach-point=\"containerNode,focusNode\" class=\"tabLabel\"></span>"+"<span class=\"dijitInline dijitTabArrowButton dijitTabArrowIcon\" data-dojo-attach-point=\"dropdownNode\" data-dojo-attach-event=\"onclick: onClickArrowButton, onmouseenter: onMouseEnterArrowButton, onmouseleave: onMouseLeaveArrowButton\" role=\"presentation\">"+"<span data-dojo-attach-point=\"dropdownText\" class=\"dijitTabDropDownText\">${tabDropDownText}</span>"+"</span>"+"<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">"+"<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>"+"</span>"+"<span class=\"idxTabSeparator\" aria-hidden=\"true\" data-dojo-attach-point=\"separatorNode\">${tabSeparatorText}</span>"+"</div>",tabDropDownText:"&nbsp;[v]",tabCloseText:"[x]",tabSeparatorText:"",_setCloseButtonAttr:function(_17){if(this.arrowButton){this._set("closeButton",_17);_1.toggleClass(this.innerDiv,"dijitClosable",_17);this.closeNode.style.display=_17?"":"none";}else{this.inherited(arguments);}},_setArrowButtonAttr:function(_18){this._set("arrowButton",_18);this.dropdownNode.style.display=_18?"":"none";},onClickArrowButton:function(evt){evt.stopPropagation();},onMouseEnterArrowButton:function(_19){_1.addClass(_19.currentTarget,"enter");},onMouseLeaveArrowButton:function(_1a){_1.removeClass(_1a.currentTarget,"enter");}});return _4;});