//>>built
define("idx/layout/ToggleSplitter",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/_base/event","dijit/dijit","dijit/_Widget"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){_7.extend(_a,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""});return _2("idx.layout.ToggleSplitter",[_9.layout._Splitter],{state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:"<div class=\"dijitSplitter dojoxToggleSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\">"+"<div dojoAttachPoint=\"toggleNode\" class=\"dijitSplitterThumb dojoxToggleSplitterIcon\" tabIndex=\"0\" role=\"separator\" "+"dojoAttachEvent=\"onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove\">"+"<span class=\"dojoxToggleSplitterA11y\" dojoAttachPoint=\"a11yText\"></span></div>"+"</div>",postCreate:function(){this.inherited(arguments);var _b=this.region;_3.add(this.domNode,this.baseClass+_b.charAt(0).toUpperCase()+_b.substring(1));},startup:function(){this.inherited(arguments);var _c=this.child,_d=this.child.domNode,_e=_5.get(_d,(this.horizontal?"height":"width"));_9.setWaiState(this.domNode,"controls",_d.id);_1.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(_f){var _10=_f.substring("toggleSplitter".length);_10=_10.charAt(0).toLowerCase()+_10.substring(1);if(_f in this.child){this[_10]=this.child[_f];}},this);if(!this.fullSize){this.fullSize=this.state=="full"?_e+"px":"75px";}this._openStyleProps=this._getStyleProps(_d,"full");this._started=true;this.set("state",this.state);return this;},_onKeyPress:function(evt){if(this.state=="full"){this.inherited(arguments);}if(evt.charCode==_6.SPACE||evt.keyCode==_6.ENTER){this._toggle(evt);}},_onToggleNodeMouseDown:function(evt){_8.stop(evt);this.toggleNode.focus();},_startDrag:function(e){if(this.state=="full"){this.inherited(arguments);}},_stopDrag:function(e){this.inherited(arguments);this.toggleNode.blur();},_toggle:function(evt){var _11;switch(this.state){case "full":_11=this.collapsedSize?"collapsed":"closed";break;case "collapsed":_11="closed";break;default:_11="full";}this.set("state",_11);},_onToggleNodeMouseMove:function(evt){var _12=this.region.toLowerCase(),_13=this.baseClass+_12.charAt(0).toUpperCase()+_12.substring(1),_14=this.toggleNode,on=this.state=="full"||this.state=="collapsed",_15=evt.type=="mouseout"||evt.type=="blur";_3.toggle(_14,_13+"IconOpen",_15&&on);_3.toggle(_14,_13+"IconOpenHover",!_15&&on);_3.toggle(_14,_13+"IconClosed",_15&&!on);_3.toggle(_14,_13+"IconClosedHover",!_15&&!on);},_handleOnChange:function(_16){var _17=this.child.domNode,_18,_19,dim=this.horizontal?"height":"width";if(this.state=="full"){var _1a=_7.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps);_1a[dim]=(this._openStyleProps&&this._openStyleProps[dim])?this._openStyleProps[dim]:this.fullSize;_5.set(this.domNode,"cursor","");_5.set(_17,_1a);}else{if(this.state=="collapsed"){_19=dojo.getComputedStyle(_17);_18=this._getStyleProps(_17,"full",_19);this._openStyleProps=_18;_5.set(this.domNode,"cursor","auto");_5.set(_17,dim,this.collapsedSize);}else{if(!this.collapsedSize){_19=dojo.getComputedStyle(_17);_18=this._getStyleProps(_17,"full",_19);this._openStyleProps=_18;}var _1b=this._getStyleProps(_17,"closed",_19);_5.set(this.domNode,"cursor","auto");_5.set(_17,_1b);}}this._setStateClass();if(this.container._started){this.container._layoutChildren(this.region);}},_getStyleProps:function(_1c,_1d,_1e){if(!_1e){_1e=dojo.getComputedStyle(_1c);}var _1f={},dim=this.horizontal?"height":"width";_1f["overflow"]=(_1d!="closed")?_1e["overflow"]:"hidden";_1f["visibility"]=(_1d!="closed")?_1e["visibility"]:"hidden";_1f[dim]=(_1d!="closed")?_1c.style[dim]||_1e[dim]:this._closedSize;var _20=["Top","Right","Bottom","Left"];_1.forEach(["padding","margin","border"],function(_21){for(var i=0;i<_20.length;i++){var _22=_21+_20[i];if(_21=="border"){_22+="Width";}if(undefined!==_1e[_22]){_1f[_22]=(_1d!="closed")?_1e[_22]:0;}}});return _1f;},_setStateClass:function(){var _23="&#9652",_24=this.region.toLowerCase(),_25=this.baseClass+_24.charAt(0).toUpperCase()+_24.substring(1),_26=this.toggleNode,on=this.state=="full"||this.state=="collapsed",_27=this.focused;_3.toggle(_26,_25+"IconOpen",on&&!_27);_3.toggle(_26,_25+"IconClosed",!on&&!_27);_3.toggle(_26,_25+"IconOpenHover",on&&_27);_3.toggle(_26,_25+"IconClosedHover",!on&&_27);if(_24=="top"&&on||_24=="bottom"&&!on){_23="&#9650";}else{if(_24=="top"&&!on||_24=="bottom"&&on){_23="&#9660";}else{if(_24=="right"&&on||_24=="left"&&!on){_23="&#9654";}else{if(_24=="right"&&!on||_24=="left"&&on){_23="&#9664";}}}}this.a11yText.innerHTML=_23;},_setStateAttr:function(_28){if(!this._started){return;}var _29=this.state;this.state=_28;this._handleOnChange(_29);var _2a;switch(_28){case "full":_9.setWaiState(this.domNode,"expanded",true);_2a="onOpen";break;case "collapsed":_9.setWaiState(this.domNode,"expanded",true);_2a="onCollapsed";break;default:_9.setWaiState(this.domNode,"expanded",false);_2a="onClosed";}this[_2a](this.child);},onOpen:function(_2b){},onCollapsed:function(_2c){},onClosed:function(_2d){}});});