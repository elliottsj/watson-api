//>>built
require({cache:{"url:idx/oneui/templates/HoverCard.html":"<div class=\"idxOneuiHoverCard idxOneuiHoverCardLeft\">\n\t<div role=\"document\"> <span data-dojo-attach-point=\"closeButtonNode, focusNode\" class=\"idxOneuiHoverCardCloseIcon\" data-dojo-attach-event=\"ondijitclick: hide\" role=\"button\" tabIndex=\"0\"></span></div>\n\t\n\t<div data-dojo-attach-point=\"bodyNode\" class=\"idxOneuiHoverCardBody\">\t\n\t\t<div class=\"idxOneuiHoverCardGrip\" data-dojo-attach-point=\"gripNode\"></div>\n\t\t<div class=\"idxOneuiHoverCardContainer\" role='alert' data-dojo-attach-point=\"containerNode\">\t\t\n\t\t</div>\n\t\t<div class=\"idxOneuiHoverCardFooter\">\n\t\t\t<div class=\"idxOneuiHoverCardActionIcons\" data-dojo-attach-point=\"actionIcons\"></div>\n\t\t\t<span aria-haspopup=\"true\" data-dojo-attach-point=\"moreActionsNode\"></span>\n\t\t</div>\n\t\t<div class=\"idxOneuiHoverCardFooterExpand\"></div>\n\t</div>\n\t<div class=\"idxOneuiHoverCardConnector\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n\n\n"}});define("idx/oneui/HoverCard",["dojo/_base/declare","dojo/_base/array","dojo/keys","dijit/focus","dijit/a11y","dojo/_base/event","dojo/_base/fx","dojo/_base/lang","dojo/_base/html","dojo/dom-geometry","dijit/place","dojo/dom","dojo/dom-style","dojo/dom-class","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","dojo/_base/window","dojo/_base/connect","dojo/_base/sniff","dijit/_base/manager","dijit/BackgroundIframe","dijit/TooltipDialog","idx/oneui/Menu","dijit/MenuItem","dijit/form/DropDownButton","dijit/form/Button","dojo/text!./templates/HoverCard.html","dijit/dijit","dojo/i18n","dojo/i18n!./nls/HoverCard"],function(_1,_2,_3,_4,_5,_6,fx,_7,_8,_9,_a,_b,_c,_d,_e,_f,win,_10,has,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a){var _1b=_1("idx.oneui.HoverCard",[_13],{templateString:_18,target:"",draggable:true,showDelay:500,hideDelay:800,moreActions:null,content:null,duration:_11.defaultDuration,postMixInProperties:function(){this.moreActionsLabel=_1a.getLocalization("idx.oneui","HoverCard",this.lang).moreActionsLabel;},_setTargetAttr:function(_1c){var _1c=_b.byId(_1c);if(!_1c){return;}this._connections=[this.connect(_1c,"onmouseenter","_onHover"),this.connect(_1c,"onmouseleave","_onUnHover"),this.connect(_1c,"onkeypress","_onConnectIdKey")];this._set("target",_1c);},_onConnectIdKey:function(evt){var _1d=evt.target;if(evt.charOrCode==_3.ENTER||evt.charOrCode==_3.SPACE||evt.charOrCode==" "){this._showTimer=setTimeout(_7.hitch(this,function(){this.open(_1d);}),this.showDelay);_6.stop(evt);}},_setActionsAttr:function(_1e){_2.forEach(_1e,function(_1f){var _20=new _17({iconClass:_1f.iconClass,onClick:_1f.content?_7.hitch(this,function(){}):_1f.onClick,baseClass:"idxOneuiHoverCardFooterButton"});_8.place(_20.domNode,this.actionIcons);},this);},_setMoreActionsAttr:function(_21){var _22=new _14({});_2.forEach(_21,function(_23){_22.addChild(new _15({label:_23.label,onClick:_23.onClick}));});_22.startup();var _24=new _16({label:this.moreActionsLabel,dropDown:_22,baseClass:"idxOneuiHoverCardMenu"},this.moreActionsNode);},_setContentAttr:function(_25){var _26=_19.byId(_25);if(!_26){return;}else{_8.place(_26.domNode,this.containerNode);}_d.toggle(this.containerNode,"idxOneuiHoverCardWithoutPreviewImg",!_26.image);},_onHover:function(e){if(!this._showTimer){var _27=e.target;this._showTimer=setTimeout(_7.hitch(this,function(){this.open(_27);}),this.showDelay);}if(this._hideTimer){clearTimeout(this._hideTimer);delete this._hideTimer;}},_onUnHover:function(){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}if(!this._hideTimer){this._hideTimer=setTimeout(_7.hitch(this,function(){this.close();}),this.hideDelay);}},_hideConnector:function(){var _28=this.connectorNode;_c.set(_28,"display","none");},_showConnector:function(){var _29=this.connectorNode;_c.set(_29,"display","block");},_showDragClass:function(){_d.add(this.gripNode,"idxOneuiHoverCardGripActive");},_hideDragClass:function(){_d.remove(this.gripNode,"idxOneuiHoverCardGripActive");_d.add(this.gripNode,"idxOneuiHoverCardGrip");},_showHoverDragClass:function(){_d.add(this.gripNode,"idxOneuiHoverCardGripHover");},_hideHoverDragClass:function(){_d.remove(this.gripNode,"idxOneuiHoverCardGripHover");},postCreate:function(){win.body().appendChild(this.domNode);this.bgIframe=new _12(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onHide")});this.connect(this.gripNode,"onmouseenter","_showHoverDragClass");this.connect(this.gripNode,"onmouseleave","_hideHoverDragClass");this.connect(this.domNode,"onkeypress","_onKey");},open:function(_2a){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}if(this.isShowingNow){this.focus();return;}_d.remove(this.domNode,"dijitHidden");if(dojo.isIE<=7){_c.set(this.bodyNode,"width",_c.get(this.containerNode,"width")+5+"px");}this.show(this.domNode.innerHTML,_2a,this.position,!this.isLeftToRight(),this.textDir);this.focus();this._connectNode=_2a;this.onShow(_2a,this.position);},close:function(){if(this._connectNode){this.hide(this._connectNode);delete this._connectNode;this._focus=false;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},focus:function(){this.inherited(arguments);this._focus=true;},show:function(_2b,_2c,_2d,rtl,_2e){this._showConnector();this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.set("textDir",_2e);this.containerNode.align=rtl?"right":"left";var pos=_a.around(this.domNode,_2c,_2d&&_2d.length?_2d:_1b.defaultPosition,!rtl,_7.hitch(this,"orient"));var _2f=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_2f.y+((_2f.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_2f.x+((_2f.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}var _30=this.domNode;if(this.gripNode&&this.draggable){this._moveable=new ((has("ie")==6)?_f:_e)(_30,{handle:this.gripNode});this.connect(this._moveable,"onFirstMove","_hideConnector");this.connect(this._moveable,"onMoving","_showDragClass");this.connect(this._moveable,"onMoveStop","_hideDragClass");}else{}_c.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_2c;},orient:function(_31,_32,_33,_34,_35){this.connectorNode.style.top="";var _36=_34.w-this.connectorNode.offsetWidth;_31.className="idxOneuiHoverCard "+{"MR-ML":"idxOneuiHoverCardRight","ML-MR":"idxOneuiHoverCardLeft","TM-BM":"idxOneuiHoverCardAbove","BM-TM":"idxOneuiHoverCardBelow","BL-TL":"idxOneuiHoverCardBelow idxOneuiHoverCardABLeft","TL-BL":"idxOneuiHoverCardAbove idxOneuiHoverCardABLeft","BR-TR":"idxOneuiHoverCardBelow idxOneuiHoverCardABRight","TR-BR":"idxOneuiHoverCardAbove idxOneuiHoverCardABRight","BR-BL":"idxOneuiHoverCardRight","BL-BR":"idxOneuiHoverCardLeft","TR-TL":"idxOneuiHoverCardRight"}[_32+"-"+_33];this.domNode.style.width="auto";var _37=_9.getContentBox(this.domNode);var _38=Math.min((Math.max(_36,1)),_37.w);var _39=_38<_37.w;this.domNode.style.width=_38+"px";if(_39){this.containerNode.style.overflow="auto";var _3a=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_3a>_38){_3a=_3a+_c.get(this.domNode,"paddingLeft")+_c.get(this.domNode,"paddingRight");this.domNode.style.width=_3a+"px";}}if(_33.charAt(0)=="B"&&_32.charAt(0)=="B"){var mb=_9.getMarginBox(_31);var _3b=this.connectorNode.offsetHeight;if(mb.h>_34.h){var _3c=_34.h-((_35.h+_3b)>>1);this.connectorNode.style.top=_3c+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_35.h/2-_3b/2,0),mb.h-_3b)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,_37.w-_36);},hide:function(_3d){if(this._onDeck&&this._onDeck[1]==_3d){this._onDeck=null;}else{if(this.aroundNode===_3d||this.isShowingNow){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();_4.focus(this._connectNode);}else{}}},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},_onHide:function(){_d.add(this.domNode,"dijitHidden");if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_getFocusItems:function(){var _3e=_5._getTabNavigable(this.domNode);this._firstFocusItem=_3e.lowest||_3e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_3e.last||_3e.highest||this._firstFocusItem;},_onKey:function(evt){var _3f=evt.target;if(evt.charOrCode===_3.TAB){this._getFocusItems(this.domNode);}var _40=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==_3.ESCAPE){setTimeout(_7.hitch(this,"hide"),0);_6.stop(evt);}else{if(_3f==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===_3.TAB){if(!_40){_4.focus(this._lastFocusItem);}_6.stop(evt);}else{if(_3f==this._lastFocusItem&&evt.charOrCode===_3.TAB&&!evt.shiftKey){if(!_40){_4.focus(this._firstFocusItem);}_6.stop(evt);}else{if(evt.charOrCode===_3.TAB){evt.stopPropagation();}}}}}});_1b.defaultPosition=["after-centered","before-centered","below","above"];return _1b;});