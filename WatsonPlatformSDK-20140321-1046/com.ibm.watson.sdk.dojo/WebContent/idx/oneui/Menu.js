//>>built
require({cache:{"url:idx/oneui/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\">\n\t\t<tr data-dojo-attach-point=\"_columnContainerNode\">\n\t\t\t<td class=\"dijitReset oneuiMenuColumn\" data-dojo-attach-point=\"columnNodes\">\n\t\t\t\t<table class=\"dijitReset\" cellspacing=\"0\" width=\"100%\" role=\"presentation\">\n\t\t\t\t\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"_containerNodes,containerNode\">\n<!-- this is column 0, which also starts out as the container node so menu items are initially loaded here.\n     containerNode changes to point to _columnContainerNode once the widget has initialised, so the whole set of columns is the container.\n\t this must be kept in synch with _MenuColumn.html -->\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n","url:idx/oneui/templates/_MenuColumn.html":"<td class=\"dijitReset oneuiMenuColumn\" data-dojo-attach-point=\"columnNodes\">\n\t<table class=\"dijitReset\" cellspacing=\"0\" width=\"100%\" role=\"presentation\">\n\t\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"_containerNodes\">\n<!-- this must be kept in synch with column 0 included in Menu.html -->\n\t\t</tbody>\n\t</table>\n</td>"}});define("idx/oneui/Menu",["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom-geometry","dijit/_TemplatedMixin","dijit/_WidgetBase","dijit/Menu","dijit/MenuItem","dijit/registry","idx/oneui/_MenuOpenOnHoverMixin","dojo/text!../oneui/templates/Menu.html","dojo/text!../oneui/templates/_MenuColumn.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){var _d={"error":"oneuiErrorMenuItemIcon","warning":"oneuiWarningMenuItemIcon","confirmation":"oneuiConfirmationMenuItemIcon","information":"oneuiInformationMenuItemIcon","success":"oneuiSuccessMenuItemIcon","critical":"oneuiCriticalMenuItemIcon","attention":"oneuiAttentionMenuItemIcon","compliance":"oneuiComplianceMenuItemIcon"};var _7=_2("idx.oneui.Menu",[_7,_a],{_containerNodes:null,columnNodes:null,menuForDialog:true,templateString:_b,constructor:function(){this._containerNodes=[];this.columnNodes=[];},_getNextFocusableChild:function(_e,_f){var _10=null;var _11=this.getChildren();var _12;if(_e!=null){_12=_1.indexOf(_11,_e);if(_12!=-1){_12+=_f;if(_12<0){_12=_11.length-1;}if(_12>=_11.length){_12=0;}}}else{if(_11.length==0){_12=-1;}else{_12=(_f==1)?0:_11.length-1;}}if(_12!=-1){var i=_12;do{if(_11[i].isFocusable()){_10=_11[i];break;}i+=_f;if(i<0){i=_11.length-1;}if(i>=_11.length){i=0;}}while(i!=_12);}return _10;},_moveToColumn:function(dir){if(this.focusedChild){for(var i=0;i<this._containerNodes.length;i++){if(this.focusedChild.domNode.parentNode==this._containerNodes[i]){var _13=i,_14=_4.getMarginBox(this.focusedChild.domNode).t;break;}}}if(_13!=undefined){for(i=_13+dir;i>=0&&i<this._containerNodes.length;i+=dir){var _15=_9.findWidgets(this._containerNodes[i]);var _16=dojo.filter(_15,function(_17){return _17.isFocusable();});if(_16.length>0){var _18=i;break;}}if(_18!=undefined){for(i=0;i<_16.length;i++){var _19=_16[i];var _1a=_4.getMarginBox(_19.domNode);if(_14>=_1a.t&&_14<=_1a.t+_1a.h-1){this.focusChild(_19);return true;}else{if(_14<_1a.t){if(i>0){this.focusChild(_16[i-1]);return true;}else{this.focusChild(_19);return true;}}else{if(i==_16.length-1){this.focusChild(_19);return true;}}}}}}return false;},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:if(!this._moveToColumn(+1)){this._moveToPopup(evt);}_3.stop(evt);break;case this._closeSubMenuKey:if(!this._moveToColumn(-1)){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}}_3.stop(evt);break;}},refresh:function(){var _1b=this.getChildren();for(var i=0;i<_1b.length;i++){this.addChild(_1b[i]);}},startup:function(){if(this._started){return;}this._started=true;this.inherited(arguments);this.containerNode=this._columnContainerNode;this.refresh();},addChild:function(_1c,_1d){while(this._containerNodes.length<=(_1c.column||0)){var _1e=_5.getCachedTemplate(_c).cloneNode(true);this._attachTemplateNodes(_1e,function(n,p){return n.getAttribute(p);});this._columnContainerNode.appendChild(_1e);}this.containerNode=this._containerNodes[_1c.column||0];this.inherited(arguments);this.containerNode=this._columnContainerNode;}});_7.createMessageMenuItem=function(_1f){var _20="";if(_1f){if(_1f.timestamp){_20+="‏<span class=\"messageMenuTimestamp messagesContrast\">‎"+_1f.timestamp+"‏</span>‎";}if(_1f.content){_20+="‏ <span class=\"messageTitles\">‎"+_1f.content+"‏</span>‎";}if(_1f.messageId){_20+="‏ <span class=\"messagesContrast\">(‎"+_1f.messageId+"‏)</span>‎";}}return new _8({label:_20,iconClass:_1f&&_1f.type&&_d[_1f.type]});};return _7;});