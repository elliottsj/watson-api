//>>built
define("idx/widget/NavTreeModel",["dojo/_base/declare","dojo/_base/lang","dojo/string","dijit/Tree","dijit/tree/ForestStoreModel","../string","../util"],function(_1,_2,_3,_4,_5,_6,_7){return _1("idx.widget.NavTreeModel",[_5],{typeAttr:"type",selectableAttr:"selectable",_setSelectableAttr:function(_8){if(_8==this.selectableAttr){return;}this.selectableAttr=_8;this.onSelectabilityChanged();},selectabilityMap:null,_setSelectabilityMapAttr:function(_9){if(_9===this.selectabilityMap){return;}this.selectabilityMap=_9;this.onSelectabilityChanged();},typeSelectabilityMap:null,_setTypeSelectabilityMapAttr:function(_a){if(_a===this.typeSelectabilityMap){return;}this.typeSelectabilityMap=_a;this.onSelectabilityChanged();},defaultSelectability:"leaves",_setDefaultSelectabilityAttr:function(_b){if(_b==this.defaultSelectability){return;}this.defaultSelectability=_b;this.onSelectabilityChanged();},badgeLabelAttr:"badgeLabel",_setBadgeLabelAttrAttr:function(_c){if(_c==this.badgeLabelAttr){return;}this.badgeLabelAttr=_c;this.onBadgesChanged();},badgeLabelType:"html",badgeIconTypeAttr:"badgeIconType",_setBadgeIconTypeAttrAttr:function(_d){if(_d==this.badgeIconTypeAttr){return;}this.badgeIconTypeAttr=_d;this.onBadgesChanged();},badgeMap:null,_setBadgeMapAttr:function(_e){if(_e===this.badgeMap){return;}this.badgeMap=_e;this.onBadgesChanged();},getItemType:function(_f){if(!_6.nullTrim(this.typeAttr)){return null;}if(!this.store.isItem(_f)){return null;}if(!this.store.hasAttribute(_f,this.typeAttr)){return null;}return this.store.getValue(_f,this.typeAttr);},isSelectable:function(_10){if(!this.store.isItem(_10)){return false;}if(this.selectabilityMap){var id=this.getIdentity(_10);if(id in this.selectabilityMap){return this.selectabilityMap[id];}}if(_6.nullTrim(this.selectableAttr)){if(this.store.hasAttribute(_10,this.selectableAttr)){return this.store.getValue(_10,this.selectableAttr);}}if(this.typeSelectabilityMap){var _11=this.getItemType(_10);if((_11)&&(_11 in this.typeSelectabilityMap)){return this.typeSelectabilityMap[_11];}}switch(this.defaultSelectability){case "all":return true;case "none":return false;case "leaves":return (!this.mayHaveChildren(_10));default:return true;}},getBadge:function(_12){if(!this.store.isItem(_12)){return null;}var _13={label:null,iconType:null};if(this.badgeMap){var id=this.getIdentity(_12);if(id in this.badgeMap){var _14=this.badgeMap[id];if(!_14){return null;}var _15=_7.typeOfObject(_14);switch(_15){case "number":_13.label=_14;return _13;case "string":_13.label=this._normalizeBadgeLabel(_14);return _13;case "object":if((!_14.label)&&(!_14.iconType)){return null;}if(_14.label){_13.label=this._normalizeBadgeLabel(_14.label);}if(_14.iconType){_13.iconType=_14.iconType;}return _13;}}}if(_6.nullTrim(this.badgeLabelAttr)){if(this.store.hasAttribute(_12,this.badgeLabelAttr)){var val=this.store.getValue(_12,this.badgeLabelAttr);_13.label=this._normalizeBadgeLabel(val);}}if(_6.nullTrim(this.badgeIconTypeAttr)){if(this.store.hasAttribute(_12,this.badgeIconTypeAttr)){_13.iconType=this.store.getValue(_12,this.badgeIconTypeAttr);}}if((!_13.label)&&(!_13.iconType)){return null;}return _13;},_normalizeBadgeLabel:function(_16){var _17=_7.typeOfObject(_16);switch(_17){case "number":return _16;case "string":if(_16.match(/^\s*(\+|-)?\d+\s*$/)){return Number(_3.trim(_16));}else{return _16;}default:return ""+_16;}},onBadgesChanged:function(){},onSelectabilityChanged:function(){},normalizeItem:function(_18){var _19=this.store.getAttributes(_18);var _1a={};for(var _1b=0;_1b<_19.length;_1b++){var _1c=_19[_1b];var _1d=this.store.getValue(_18,_1c);_1a[_1c]=_1d;}return _1a;}});});