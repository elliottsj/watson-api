//>>built
define("idx/widget/NavTreeObjectModel",["dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel","dojo/string","dijit/Tree","./ForestObjectStoreModel","../string","../util"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1("idx.widget.NavTreeObjectModel",[_6],{typeAttr:"type",selectableAttr:"selectable",_setSelectableAttr:function(_9){if(_9==this.selectableAttr){return;}this.selectableAttr=_9;this.onSelectabilityChanged();},selectabilityMap:null,_setSelectabilityMapAttr:function(_a){if(_a===this.selectabilityMap){return;}this.selectabilityMap=_a;this.onSelectabilityChanged();},typeSelectabilityMap:null,_setTypeSelectabilityMapAttr:function(_b){if(_b===this.typeSelectabilityMap){return;}this.typeSelectabilityMap=_b;this.onSelectabilityChanged();},defaultSelectability:"leaves",_setDefaultSelectabilityAttr:function(_c){if(_c==this.defaultSelectability){return;}this.defaultSelectability=_c;this.onSelectabilityChanged();},branchingMap:null,_setBranchingMapAttr:function(_d){if(_d===this.branchingMap){return;}this.branchingMap=_d;this.onBranchingChanged();},typeBranchingMap:null,_setTypeBranchingMapAttr:function(_e){if(_e===this.typeBranchingMap){return;}this.typeBranchingMap=_e;this.onBranchingChanged();},branchingAttr:"children",_setBranchingAttrAttr:function(_f){if(_f==this.branchingAttr){return;}this.branchingAttr=_f;this.onBranchingChanged();},branchingAttrMode:"present",_setBranchingAttrModeAttr:function(_10){if(_10==this.branchingAttrMode){return;}this.branchingAttrMode=_10;this.onBranchingChanged();},badgeLabelAttr:"badgeLabel",_setBadgeLabelAttrAttr:function(_11){if(_11==this.badgeLabelAttr){return;}this.badgeLabelAttr=_11;this.onBadgesChanged();},badgeLabelType:"html",badgeIconTypeAttr:"badgeIconType",_setBadgeIconTypeAttrAttr:function(_12){if(_12==this.badgeIconTypeAttr){return;}this.badgeIconTypeAttr=_12;this.onBadgesChanged();},badgeMap:null,_setBadgeMapAttr:function(_13){if(_13===this.badgeMap){return;}this.badgeMap=_13;this.onBadgesChanged();},mayHaveChildren:function(_14){if(_14===this.root){return true;}var _15=this.store.getIdentity(_14);if(_15&&this.branchingMap&&(_15 in this.branchingMap)){return (this.branchingMap[_15]?true:false);}var _16=this.getItemType(_14);if(_16&&this.typeBranchingMap&&(_16 in this.typeBranchingMap)){return (this.typeBranchingMap[_16]?true:false);}if(!this.branchingAttr){return this.inherited(arguments);}var _17=this.branchingAttrMode?this.branchingAttrMode:"present";switch(this.branchingAttrMode){case "always":return true;case "never":return false;case "present":return (this.branchingAttr in _14);case "absent":return (!(this.branchingAttr in _14));case "length":var val=(this.branchingAttr in _14)?_14[this.branchingAttr]:null;return ("length" in val)?(val.length>0):false;case "branch":return (_14[this.branchingAttr]?true:false);case "leaf":return (_14[this.branchingAttr]?false:true);default:return this.inherited(arguments);}},getItemType:function(_18){if(_18==this.root){return null;}if(!_7.nullTrim(this.typeAttr)){return null;}if(!(this.typeAttr in _18)){return null;}return _18[this.typeAttr];},isSelectable:function(_19){if(_19==this.root){return false;}if(this.selectabilityMap){var id=this.store.getIdentity(_19);if(id&&(id in this.selectabilityMap)){return this.selectabilityMap[id];}}if(_7.nullTrim(this.selectableAttr)){if(this.selectableAttr in _19){return _19[this.selectableAttr];}}if(this.typeSelectabilityMap){var _1a=this.getItemType(_19);if((_1a)&&(_1a in this.typeSelectabilityMap)){return this.typeSelectabilityMap[_1a];}}switch(this.defaultSelectability){case "all":return true;case "none":return false;case "leaves":return (!this.mayHaveChildren(_19));default:return true;}},getBadge:function(_1b){if(_1b==this.root){return null;}var _1c={label:null,iconType:null};if(this.badgeMap){var id=this.store.getIdentity(_1b);if(id&&(id in this.badgeMap)){var _1d=this.badgeMap[id];if(!_1d){return null;}var _1e=_8.typeOfObject(_1d);switch(_1e){case "number":_1c.label=_1d;return _1c;case "string":_1c.label=this._normalizeBadgeLabel(_1d);return _1c;case "object":if((!_1d.label)&&(!_1d.iconType)){return null;}if(_1d.label){_1c.label=this._normalizeBadgeLabel(_1d.label);}if(_1d.iconType){_1c.iconType=_1d.iconType;}return _1c;}}}if(_7.nullTrim(this.badgeLabelAttr)){if(this.badgeLabelAttr in _1b){var val=_1b[this.badgeLabelAttr];_1c.label=this._normalizeBadgeLabel(val);}}if(_7.nullTrim(this.badgeIconTypeAttr)){if(this.badgeIconTypeAttr in _1b){_1c.iconType=_1b[this.badgeIconTypeAttr];}}if((!_1c.label)&&(!_1c.iconType)){return null;}return _1c;},_normalizeBadgeLabel:function(_1f){var _20=_8.typeOfObject(_1f);switch(_20){case "number":return _1f;case "string":if(_1f.match(/^\s*(\+|-)?\d+\s*$/)){return Number(_4.trim(_1f));}else{return _1f;}default:return ""+_1f;}},onBadgesChanged:function(){},onSelectabilityChanged:function(){},onBranchingChanged:function(){},normalizeItem:function(_21){return _21;}});});