//>>built
require({cache:{"url:idx/widget/templates/SingleMessage.html":"<div class=\"dijit dijitReset\" \r\n\t><div class=\"idxMessageHead\"\r\n\t\t><span id=\"${id}_title\" style=\"position: absolute;clip: rect(0px 0px 0px 0px);\" >${type} type message</span\r\n\t\t><div class=\"dijitInline idxMessageIcon\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"iconNode\" dojoAttachEvent=\"onmouseenter: onIconEnter, onmouseleave: onIconLeave\" aria-labelledby=\"${id}_title\"\r\n\t\t\t><span id=\"${id}_type\" dojoAttachPoint=\"typeNode\" class=\"idxMessageIconText idxMessageContent idxMessageAltText\"></span\r\n\t\t></div\r\n\t\t><span class=\"dijitInline idxMessageContent\" dojoAttachPoint=\"focusNode\" dojoAttachEvent=\"ondijitclick: _onClick\" tabIndex=\"${tabIndex}\" role=\"button\" aria-describedby=\"${id}_messageTitle\"\r\n\t\t\t><span class=\"dijitInline idxMessageTitle\" dojoAttachPoint=\"titleNode\" id=\"${id}_messageTitle\"></span\r\n\t\t\t><span class=\"dijitInline idxMessageId messagesContrast\" dojoAttachPoint=\"idNode\"></span\r\n\t\t></span\r\n\t\t><span class=\"idxMessageFakeContent\" dojoAttachPoint=\"fakeFocusNode\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"ondijitclick: _onClick\" role=\"button\" aria-describedby=\"${id}_messageFakeTitle\"\r\n\t\t\t><span class=\"idxMessageTitle\" dojoAttachPoint=\"fakeTitleNode\" id=\"${id}_messageFakeTitle\"></span\r\n\t\t\t><span class=\"idxMessageId messagesContrast\" dojoAttachPoint=\"fakeIdNode\"></span\r\n\t\t></span\r\n\t\t><div class=\"dijitInline idxMessageRightAligned\" dojoAttachPoint=\"infoNode\"\r\n\t\t\t><div class=\"dijitInline idxMessageTimestamp messagesContrast\" dojoAttachPoint=\"timestampNode\">03 March 2011  12:00 PM</div\r\n\t\t\t><div class=\"dijitInline idxMessageSeparator\" dojoAttachPoint=\"separatorNode\">|</div\r\n\t\t\t><a class=\"dijitInline idxMessageAction\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"actionNode\" role=\"button\" dojoAttachEvent=\"ondijitclick: onAction\" href=\"javascript: void(0);\"></a\r\n\t\t\t><div class=\"dijitInline idxMessageCloseIcon\" role=\"button\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"ondijitclick: _onClose\" dojoAttachPoint=\"closeNode\"><span class=\"idxMessageContent idxMessageAltText\">X</span></div\r\n\t\t></div\r\n\t></div\r\n\t><div class=\"idxMessageSplitter\" src=\"${_blankGif}\"></div\r\n><div class=\"idxMessageBody\" dojoAttachPoint=\"bodyNode\" role=\"document\" aria-label=\"${id}_detailedMessage\"\r\n\t><span class=\"idxMessageDetail\" dojoAttachPoint=\"descriptionNode\" tabIndex=\"${tabIndex}\"></span\r\n\t><a class=\"idxMessageViewDetails\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"viewDetailsNode\" href=\"javascript: void(0);\" dojoAttachEvent=\"ondijitclick: onMoreDetails\"></a\r\n></div\r\n><div class=\"idxMessageRefresh\"\r\n\t><span tabIndex=\"${tabIndex}\" dojoAttachPoint=\"refreshNode\" dojoAttachEvent=\"ondijitclick: onRefresh\" role=\"button\"></span\r\n></div></div>\r\n"}});define("idx/widget/SingleMessage",["dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/lang","dojo/_base/sniff","dojo/date/locale","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/i18n","dojo/keys","dijit/focus","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/SingleMessage.html","dojo/i18n!./nls/SingleMessage","dojo/i18n!dijit/nls/common","dojox/html/ellipsis"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13){var _14=_4.getObject("idx.oneui.messaging",true);return _14.SingleMessage=_1("idx.widget.SingleMessage",[_e,_f,_10],{templateString:_11,baseClass:"idxSingleMessage",tabIndex:"0",messageId:"",type:"error",forceAlertRole:false,date:new Date(),dateFormat:{formatLength:"medium",locale:this.lang},title:"",actionText:"",showId:true,showAction:true,showRefresh:true,showDetailsLink:true,showTimestamp:true,messageNumber:"n",description:"",collapsed:true,closable:true,_iconTextMap:{"error":"X","warning":"!","information":"i","success":"&#8730;","critical":"X","attention":"&#9670","compliance":"&#9671"},constructor:function(){this.date=new Date();},_allowedTypes:["error","warning","information","success","critical","attention","compliance"],postMixInProperties:function(){this.inherited(arguments);this._nlsResources=_12;this.type=_2.indexOf(this.type.toLowerCase())?this.type.toLowerCase():"error";if(!this.description){this.description=this.title;}},postCreate:function(){this.inherited(arguments);this._created=true;if(!this.actionText){this.set("actionText",this._nlsResources.viewAll);}_8.set(this.viewDetailsNode,"innerHTML",this._nlsResources.viewDetails);_8.set(this.refreshNode,"innerHTML",this._nlsResources.refresh);_8.set(this.closeNode,"title",_13.itemClose);_8.set(this.closeNode.childNodes[0],"title",_13.itemClose);this.set("title",this.title);if(this.type=="error"||this.type=="warning"||this.forceAlertRole){_8.set(this.domNode,"role","alert");}},_setActionTextAttr:function(_15){this._set("actionText",_15);_8.set(this.actionNode,"innerHTML",_4.replace(_15,{num:this.messageNumber}));},_setTitleAttr:function(_16){this._set("title",_16);this._resizeTitle();_8.set(this.fakeTitleNode,"innerHTML",_16+"&nbsp;&nbsp;");},_setDescriptionAttr:function(_17){this._set("description",_17);_8.set(this.descriptionNode,"innerHTML",_17);},_setMaxLengthAttr:function(_18){this._set("maxLength",_18);this._resizeTitle();},_setMessageIdAttr:function(_19){_8.set(this.idNode,"innerHTML",_19);this._set("messageId",_19);this._resizeTitle();_8.set(this.fakeIdNode,"innerHTML",_19);},_setTypeAttr:function(_1a){_8.set(this.typeNode,"innerHTML",this._iconTextMap[_1a]);_7.toggle(this.domNode,this.type+"Message",false);_7.toggle(this.domNode,_1a+"Message",true);this._set("type",_1a);this._toggleId();},_setDateAttr:function(_1b){this._set("date",_1b);_8.set(this.timestampNode,"innerHTML",_6.format(this.date,this.dateFormat));this._resizeTitle();},_setDateFormatAttr:function(_1c){this._set("dateFormat",_1c);_8.set(this.timestampNode,"innerHTML",_6.format(this.date,this.dateFormat));this._resizeTitle();},_setMessageNumberAttr:function(_1d){this._set("messageNumber",_1d);this.set("actionText",this.actionText);this._resizeTitle();},_setShowIdAttr:function(_1e){this._set("showId",_1e);this._toggleId();this._resizeTitle();},_setShowActionAttr:function(_1f){this._set("showAction",_1f);_7.toggle(this.actionNode,"dijitHidden",!this.showAction);_7.toggle(this.separatorNode,"dijitHidden",!(this.showAction&&this.showTimestamp));if(_5("ie")==6||_5("ie")==7){_7.toggle(this.timestampNode,"idxMessageTimeStampMargin",!_1f);}this._resizeTitle();},_setShowRefreshAttr:function(_20){this._set("showRefresh",_20);_7.toggle(this.refreshNode,"dijitHidden",!this.showRefresh);},_setShowDetailsLinkAttr:function(_21){this._set("showDetailsLink",_21);_7.toggle(this.viewDetailsNode,"dijitHidden",!this.showDetailsLink);},_setClosableAttr:function(_22){this._set("closable",_22);_9.set(this.closeNode,{"visibility":this.closable?"visible":"hidden"});},_setShowTimestampAttr:function(_23){this._set("showTimestamp",_23);_7.toggle(this.separatorNode,"dijitHidden",!(this.showAction&&this.showTimestamp));_7.toggle(this.timestampNode,"dijitHidden",!this.showTimestamp);},_toggleId:function(){if(this.type=="information"||this.type=="success"||this.type=="attention"||this.type=="compliance"){_7.toggle(this.idNode,"dijitHidden",!this.showId);_7.toggle(this.fakeIdNode,"dijitHidden",!this.showId);}},_resizeTitle:function(){if(!this._created){return;}_9.set(this.titleNode,{"width":"auto"});_8.set(this.titleNode,{"innerHTML":""});if(this.collapsed){var _24=_a.getMarginBox(this.idNode).w;var _25=_a.getContentBox(this.domNode).w-_a.getMarginBox(this.iconNode).w-_a.getMarginBox(this.infoNode).w-_24;_8.set(this.titleNode,{"innerHTML":"<div class=\"messageTitles\">"+this.title+"&nbsp&nbsp</div>"});var _26=_9.get(this.titleNode,"width");if(_25>20){_25=_25-10;}if(_26>_25){if(_25<0){_25=0;}_9.set(this.titleNode,{"width":_25+"px"});_8.set(this.titleNode,{"innerHTML":"<div class=\"messageTitles dojoxEllipsis\">"+this.title+"&nbsp&nbsp</div>"});_9.set(this.fakeFocusNode,{"width":_25+_24+"px"});}else{_8.set(this.titleNode,{"innerHTML":"<div class=\"messageTitles\">"+this.title+"&nbsp&nbsp</div>"});}}else{var _24=_a.getMarginBox(this.fakeIdNode).w;var _25=_a.getContentBox(this.domNode).w-_a.getMarginBox(this.iconNode).w-_a.getMarginBox(this.infoNode).w-_24;var _26=_9.get(this.fakeTitleNode,"width");if(_25>20){_25=_25-10;}_9.set(this.fakeFocusNode,{"width":_25+_24+"px"});}},_setCollapsedAttr:function(_27){if(_27){_8.set(this.focusNode,"aria-label",this._nlsResources.showDetails);}else{_8.set(this.fakeFocusNode,"aria-label",this._nlsResources.hideDetails);}_7.toggle(this.domNode,"idxMessageCollapsed",_27);if(_5("ie")==6||_5("ie")==7){if(_27){_9.set(this.domNode,{"height":"33px"});}else{_9.set(this.domNode,{"height":"auto"});}}_7.toggle(this.focusNode,"dijitHidden",!_27);_7.toggle(this.fakeFocusNode,"dijitHidden",_27);this._set("collapsed",_27);this._resizeTitle();if(_5("ie")==6){this.resize();}},_onClick:function(e){this.set("collapsed",!this.collapsed);_d.focus(this.collapsed?this.focusNode:this.fakeFocusNode);this.onClick(e);},_onClose:function(e){this.onClose(e);this.destroy();},resize:function(){this._resizeTitle();},onClose:function(e){},onIconEnter:function(e){},onIconLeave:function(e){},onClick:function(e){},onAction:function(e){},onRefresh:function(e){},onMoreDetails:function(e){}});});