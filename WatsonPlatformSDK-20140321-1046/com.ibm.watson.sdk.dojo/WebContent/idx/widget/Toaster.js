//>>built
require({cache:{"url:idx/widget/templates/Toaster.html":"<div class=\"dijitHidden\"><div data-dojo-attach-point=\"toasterNode\" class=\"dijitHidden oneuiToaster\" data-dojo-attach-event=\"onmouseover:_onMouseOver,onmouseout:_onMouseOut\"\r\n\t><span data-dojo-attach-event=\"onclick:reset\" class=\"close\"\r\n\t\t><span class=\"closeText\">x</span\r\n\t></span\r\n\t><ul data-dojo-attach-point=\"messageList\" role=\"list\"></ul\r\n\t><div class=\"reveal\"\r\n\t\t><a href=\"#\" role=\"link\">${_viewAll} (<span data-dojo-attach-point=\"overflowCountNode\"></span>)...</a\r\n\t></div\r\n></div></div>","url:idx/widget/templates/_ToasterMessage.html":"<li style=\"display: none\"\r\n\t><div class=\"content\"\r\n\t\t><div class=\"status ${type}\"></div\r\n\t\t><div class=\"information\">${content}</div\r\n\t\t><div class=\"meta_data\"\r\n\t\t\t><span class=\"msg_id\">${msg_id}</span\r\n\t\t\t><span class=\"timestamp\">${timestamp}</span\r\n\t\t></div\r\n\t></div\r\n></li>"}});define("idx/widget/Toaster",["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/string","dojo/_base/lang","dojo/query","dojo/NodeList-dom","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/fx","dojo/_base/array","dojo/text!./templates/Toaster.html","dojo/text!./templates/_ToasterMessage.html","dojo/i18n!./nls/Toaster"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,fx,_b,_c,_d,_e){var _f=_5.getObject("idx.oneui.messaging",true);return _f.Toaster=_1("idx.widget.Toaster",[_2,_3],{templateString:_c,msgCount:0,maxMsgHeight:600,messageTimeout:5000,persistMessages:false,_setOverflowMsgCountAttr:{node:"overflowCountNode",type:"innerHTML"},defaultMessage:{type:"success",content:"",msg_id:"",timestamp:""},postMixInProperties:function(){var _10=_e;this._viewAll=_10.viewAll;},postCreate:function(){this._animQueue=[];this.watch("msgCount",_5.hitch(this,"_onMessageCountChange"));dojo.body().appendChild(this.toasterNode);_a.set(this.messageList,"maxHeight",this.maxMsgHeight+"px");},destroy:function(){this.domNode.appendChild(this.toasterNode);this.inherited(arguments);},add:function(_11){_9.remove(this.toasterNode,"dijitHidden");var _12=this._displayMsg(_11);fx.wipeIn({node:_12,onEnd:_5.hitch(this,"_onMessageDisplayed",_12)}).play();},remove:function(_13){if(!this._isNodeInList(_13)){return;}this._play(fx.wipeOut({node:_13,onEnd:_5.hitch(this,"_onMessageRemoved",_13)}));},reset:function(){this.set("msgCount",0);_6("li",this.toasterNode).orphan();},_onMessageCountChange:function(_14,_15,_16){if(this._isListEmpty()){_9.replace(this.toasterNode,"dijitHidden","overflow");this.set("overflowMsgCount",0);}else{if(this._isListFull()){_9.add(this.toasterNode,"overflow");if(_16>_15){this.set("overflowMsgCount",_16);}}}},_onMessageDisplayed:function(_17){this.set("msgCount",this.msgCount+1);setTimeout(_5.hitch(this,"remove",_17),this.messageTimeout);},_onMessageRemoved:function(_18){_8.destroy(_18);this.set("msgCount",this.msgCount-1);},_onMouseOver:function(){if(this.handler){window.clearTimeout(this.handler);this.handler=null;}this.persistMessages=true;},_onMouseOut:function(){this.persistMessages=false;this.handler=setTimeout(_5.hitch(this,"_playAnimQueue"));},_playAnimQueue:function(){_b.forEach(this._animQueue,function(_19){_19.play();});},_play:function(_1a){this.persistMessages?this._animQueue.push(_1a):_1a.play();},_isNodeInList:function(_1b){return _1b.parentNode===this.messageList;},_displayMsg:function(_1c){return _8.place(this._createMessageHTML(_1c),this.messageList,"first");},_isListEmpty:function(){return this.msgCount===0;},_isListFull:function(){return _a.get(this.toasterNode,"height")>=this.maxMsgHeight;},_createMessageHTML:function(_1d){return _4.substitute(_d,_5.mixin(false,this.defaultMessage,_1d));}});});