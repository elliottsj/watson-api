//>>built
require({cache:{"url:idx/widget/templates/_CheckBoxTreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\r\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\r\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\r\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\r\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\r\n\t\t></span\r\n\t\t><span data-dojo-attach-point=\"contentNode\"\r\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\"\r\n\t\t\t><input dojoType=\"idx.form.TriStateCheckBox\" states=\"false,true\" data-dojo-attach-point=\"checkboxNode\" tabindex=\"-1\"></input\r\n\t\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\r\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\r\n</div>"}});define("idx/widget/_CheckBoxTreeNode",["dojo/_base/declare","dojo/_base/array","dojo/dom-style","dojo/keys","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/_CheckBoxTreeNode.html","dijit/Tree"],function(_1,_2,_3,_4,_5,_6){return _1("idx.widget._CheckBoxTreeNode",[dijit._TreeNode,_5],{templateString:_6,lastState:false,cssStateNodes:{labelNode:"dijitTreeLabel"},postCreate:function(){_3.set(this.checkboxNode.iconNode,{"display":"none"});this.set("lastState",false);this.connect(this.labelNode,"onkeypress","_labelKeyPressHandler");this.checkboxNode._handleOnChange=dojo.hitch(this.checkboxNode,function(_7,_8){if(this._lastValueReported==undefined&&(_8===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_7;}this._pendingOnChange=this._pendingOnChange||(typeof _7!=typeof this._lastValueReported)||(this.compare(_7,this._lastValueReported)!=0);if((this.intermediateChanges||_8||_8===undefined)&&this._pendingOnChange){this._lastValueReported=_7;this._pendingOnChange=false;this.onChange(_7);}});this.connect(this.checkboxNode,"onClick",function(){var _9=this.checkboxNode.get("checked");this.updateState(_9);this.tree.focusNode(this);});this.connect(this.checkboxNode,"onChange",function(){this._onNodeStateChange(this.checkboxNode.get("checked"));this.tree._itemStatus[this.tree.model.getIdentity(this.item)]=this.checkboxNode.get("checked");});this.checkboxNode.compLabelNode.innerHTML=this.labelNode.innerHTML;},updateState:function(_a){if(_a==undefined){_a=this.checkboxNode.get("checked");}this.checkboxNode.set("checked",_a);this.set("lastState",_a);this.updateChildren();this.updateParent();if(_a===true){this.setSelected(true);}else{this.setSelected(false);}},updateChildren:function(){var _b=this.getChildren();if(_b&&_b.length>0){if(this.checkboxNode.checked==true){_2.forEach(_b,function(_c,_d){_c.checkboxNode.set("checked",true);_c.updateChildren();});}else{if(this.checkboxNode.checked==false){_2.forEach(_b,function(_e,_f){_e.checkboxNode.set("checked",false);_e.updateChildren();});}else{_2.forEach(_b,function(_10,idx){_10.checkboxNode.set("checked",_10.get("lastState"));_10.updateChildren();});}}}else{var _11=this;function _12(_13){_11.tree.model.getChildren(_13,function(_14){for(var i=0;i<_14.length;i++){_11.tree._itemStatus[_11.tree.model.getIdentity(_14[i])]=_11.checkboxNode.checked;_12(_14[i]);}});};_12(_11.item);}},updateParent:function(){var _15=this.tree.getNodesByItem(this.getParent()?this.getParent().item:null);if(_15&&_15[0]){var _16=_15[0];_16.update();_16.updateParent();}else{return;}},update:function(){var _17=this.getChildren();var _18=0;var _19=0;for(var i=0;i<_17.length;i++){var _1a=_17[i].checkboxNode.get("checked");_17[i].set("lastState",_1a);switch(_1a){case true:_18++;break;case "mixed":_19++;break;}}if(_18>0&&_18==_17.length){this.checkboxNode.set("states",[false,true]);this.checkboxNode.set("checked",true);}else{if(_18==0&&_19==0){this.checkboxNode.set("states",[false,true]);this.checkboxNode.set("checked",false);}else{this.checkboxNode.set("states",[false,"mixed",true]);this.checkboxNode.set("checked","mixed");}}this.set("lastState",this.checkboxNode.get("checked"));},_onNodeStateChange:function(_1b){this.tree._onNodeStateChange(this,_1b);},setSelected:function(_1c){this.labelNode.setAttribute("aria-selected",_1c);},_labelKeyPressHandler:function(evt){var dk=_4;if(evt.keyCode==dk.SPACE||evt.keyCode==dk.ENTER||evt.keyCode===" "){this.checkboxNode.click();var _1d=this.checkboxNode.get("checked");this.updateState(_1d);}}});});