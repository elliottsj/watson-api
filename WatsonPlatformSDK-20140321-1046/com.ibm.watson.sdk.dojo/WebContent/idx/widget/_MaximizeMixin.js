//>>built
define("idx/widget/_MaximizeMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-geometry","dojo/_base/fx","dijit/focus","dijit/_base/focus","../util"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1("idx.widget._MaximizeMixin",null,{useAnimation:false,duration:500,inPlace:false,_placeHolder:null,_maximizedItem:null,_anchor:null,maximize:function(_b,_c){if(_b==this._maximizedItem){return;}else{if(this._maximizedItem){this.restore();}}var tp=_6.position(_c);var np=_6.position(_b);var _d=_9.getFocus();if(!this.inPlace){if(!this._placeHolder){this._placeHolder=_3.create("DIV");}if(!this._anchor){this._anchor=_3.create("DIV");_4.set(this._anchor,"position","relative");_4.set(this._anchor,"zIndex",99999);}_3.place(this._placeHolder,_b,"before");_3.place(this._anchor,_c.firstChild,"before");_3.place(_b,this._anchor,"last");}this._useCSSText=false;var _e=_5.get(_b,"style");if((_e)&&(typeof (_e)=="object")){this._useCSSText=true;_e=_e.cssText;}this._cachedOriginalStyle=_e;_4.set(_b,"position","absolute");if(this.inPlace){_4.set(_b,"zIndex",99999);}var _f=_4.get(_c,"width");var _10=_4.get(_c,"height");if(this.useAnimation){var t=np.y-tp.y;var l=np.x-tp.x;var w=np.w;var h=np.h;this._restoreBox={t:t,l:l,w:w,h:h};_7.animateProperty({node:_b,duration:this.duration,properties:{top:{start:t,end:0,unit:"px"},left:{start:l,end:0,unit:"px"},width:{start:w,end:_f,unit:"px"},height:{start:h,end:_10,unit:"px"}}}).play();}else{_4.set(_b,"top",0);_4.set(_b,"left",0);_4.set(_b,"width",_f+"px");_4.set(_b,"height",_10+"px");}this._maximizedItem=_b;_8.focus(_d);},restore:function(){if(this._maximizedItem){if(this.useAnimation&&this._restoreBox){var _11=this._maximizedItem;var t=_4.get(_11,"top");var l=_4.get(_11,"left");var w=_4.get(_11,"width");var h=_4.get(_11,"height");var _12=this._restoreBox;_7.animateProperty({node:_11,duration:this.duration,properties:{top:{start:t,end:_12.t,unit:"px"},left:{start:l,end:_12.l,unit:"px"},width:{start:w,end:_12.w,unit:"px"},height:{start:h,end:_12.h,unit:"px"}},onEnd:_2.hitch(this,this._restore)}).play();}else{this._restore();}}},_restore:function(){if(this._maximizedItem){var _13=_9.getFocus();if(!this.inPlace){_3.place(this._maximizedItem,this._placeHolder,"before");}if(_a.isWebKit){var _14=this._maximizedItem;_4.set(_14,"position","");_4.set(_14,"top","");_4.set(_14,"left","");_4.set(_14,"width","");_4.set(_14,"height","");}else{this._maximizedItem.removeAttribute("style");}if(this._cachedOriginalStyle){if(this._useCSSText){this._maximizedItem.style.cssText=this._cachedOriginalStyle;}else{_5.set(this._maximizedItem,"style",this._cachedOriginalStyle);}}if(!this.inPlace){this._maximizedItem.parentNode.removeChild(this._placeHolder);this._anchor.parentNode.removeChild(this._anchor);}this._maximizedItem=null;_8.focus(_13);}}});});